{"remainingRequest":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlYearRange.vue?vue&type=style&index=0&id=03184f38&lang=less&scoped=true&","dependencies":[{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlYearRange.vue","mtime":1595399955518},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucGwteWVhci1yYW5nZSB7CiAgZGlzcGxheTogaW5saW5lLWZsZXg7CiAgd2lkdGg6IDMwMHB4OwogIGN1cnNvcjogcG9pbnRlcjsKICAuc3BsaXQgewogICAgbWFyZ2luOiBhdXRvOwogICAgd2lkdGg6IDUwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgfQogIDo6di1kZWVwIHsKICAgIC5lbC1kYXRlLWVkaXRvciB7CiAgICAgIGZsZXg6IDE7CiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgICBpbnB1dCB7CiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["PlYearRange.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PlYearRange.vue","sourceRoot":"src/components","sourcesContent":["<!--\nCreated by zhulixiao on 2020/5/19.\n-->\n<template>\n  <div class=\"pl-year-range\" @click=\"clickYearRange\">\n    <el-date-picker\n      ref=\"start\"\n      type=\"year\"\n      value-format=\"yyyy\"\n      @blur=\"blurStartEditor\"\n      @change=\"changeStartYear\"\n      v-model=\"startYear\"\n    />\n    <div class=\"split\">è‡³</div>\n    <el-date-picker\n      ref=\"end\"\n      type=\"year\"\n      value-format=\"yyyy\"\n      @blur=\"blurEndEditor\"\n      @change=\"changeEndYear\"\n      v-model=\"endYear\"\n    />\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'PlYearRange',\n    data() {\n      return {\n        startYear: '',\n        endYear: '',\n      };\n    },\n    props: {\n      value: {\n        type: [Array, String],\n        default() {\n          return [];\n        },\n      },\n    },\n    watch: {\n      value: {\n        handler(val) {\n          this.startYear = val?.[0];\n          this.endYear = val?.[1];\n        },\n        immediate: true,\n      },\n    },\n    created() {\n      \n    },\n    mounted() {\n    },\n    methods: {\n      getStartRef() {\n        this.startRef = this.startRef || this.$refs.start;\n        return this.startRef;\n      },\n      getEndRef() {\n        this.endRef = this.endRef || this.$refs.end;\n        return this.endRef;\n      },\n      clickYearRange() {\n        this.getStartRef().focus();\n      },\n      blurStartEditor() {\n        if (!this.isChangeStartYear) return;\n        this.isChangeStartYear = false;\n        this.getEndRef().focus();\n      },\n      changeStartYear() {\n        this.isChangeStartYear = true;\n      },\n      blurEndEditor() {\n        if (!this.isChangeEndYear) {\n          this.$emit('input', this.value instanceof Array ? [...this.value] : []);\n          return;\n        }\n        this.isChangeEndYear = false;\n      },\n      changeEndYear() {\n        this.isChangeEndYear = true;\n        this.$emit('input', [this.startYear, this.endYear]);\n      },\n    },\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .pl-year-range {\n    display: inline-flex;\n    width: 300px;\n    cursor: pointer;\n    .split {\n      margin: auto;\n      width: 50px;\n      text-align: center;\n    }\n    ::v-deep {\n      .el-date-editor {\n        flex: 1;\n        pointer-events: none;\n        input {\n          text-align: center;\n        }\n      }\n    }\n  }\n</style>\n"]}]}