{"remainingRequest":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlYearRange.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlYearRange.vue","mtime":1595399955518},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUGxZZWFyUmFuZ2UnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdGFydFllYXI6ICcnLAogICAgICBlbmRZZWFyOiAnJywKICAgIH07CiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogW0FycmF5LCBTdHJpbmddLAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfSwKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IHsKICAgICAgaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLnN0YXJ0WWVhciA9IHZhbD8uWzBdOwogICAgICAgIHRoaXMuZW5kWWVhciA9IHZhbD8uWzFdOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIAogIH0sCiAgbW91bnRlZCgpIHsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFN0YXJ0UmVmKCkgewogICAgICB0aGlzLnN0YXJ0UmVmID0gdGhpcy5zdGFydFJlZiB8fCB0aGlzLiRyZWZzLnN0YXJ0OwogICAgICByZXR1cm4gdGhpcy5zdGFydFJlZjsKICAgIH0sCiAgICBnZXRFbmRSZWYoKSB7CiAgICAgIHRoaXMuZW5kUmVmID0gdGhpcy5lbmRSZWYgfHwgdGhpcy4kcmVmcy5lbmQ7CiAgICAgIHJldHVybiB0aGlzLmVuZFJlZjsKICAgIH0sCiAgICBjbGlja1llYXJSYW5nZSgpIHsKICAgICAgdGhpcy5nZXRTdGFydFJlZigpLmZvY3VzKCk7CiAgICB9LAogICAgYmx1clN0YXJ0RWRpdG9yKCkgewogICAgICBpZiAoIXRoaXMuaXNDaGFuZ2VTdGFydFllYXIpIHJldHVybjsKICAgICAgdGhpcy5pc0NoYW5nZVN0YXJ0WWVhciA9IGZhbHNlOwogICAgICB0aGlzLmdldEVuZFJlZigpLmZvY3VzKCk7CiAgICB9LAogICAgY2hhbmdlU3RhcnRZZWFyKCkgewogICAgICB0aGlzLmlzQ2hhbmdlU3RhcnRZZWFyID0gdHJ1ZTsKICAgIH0sCiAgICBibHVyRW5kRWRpdG9yKCkgewogICAgICBpZiAoIXRoaXMuaXNDaGFuZ2VFbmRZZWFyKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnZhbHVlIGluc3RhbmNlb2YgQXJyYXkgPyBbLi4udGhpcy52YWx1ZV0gOiBbXSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuaXNDaGFuZ2VFbmRZZWFyID0gZmFsc2U7CiAgICB9LAogICAgY2hhbmdlRW5kWWVhcigpIHsKICAgICAgdGhpcy5pc0NoYW5nZUVuZFllYXIgPSB0cnVlOwogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIFt0aGlzLnN0YXJ0WWVhciwgdGhpcy5lbmRZZWFyXSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["PlYearRange.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PlYearRange.vue","sourceRoot":"src/components","sourcesContent":["<!--\nCreated by zhulixiao on 2020/5/19.\n-->\n<template>\n  <div class=\"pl-year-range\" @click=\"clickYearRange\">\n    <el-date-picker\n      ref=\"start\"\n      type=\"year\"\n      value-format=\"yyyy\"\n      @blur=\"blurStartEditor\"\n      @change=\"changeStartYear\"\n      v-model=\"startYear\"\n    />\n    <div class=\"split\">è‡³</div>\n    <el-date-picker\n      ref=\"end\"\n      type=\"year\"\n      value-format=\"yyyy\"\n      @blur=\"blurEndEditor\"\n      @change=\"changeEndYear\"\n      v-model=\"endYear\"\n    />\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'PlYearRange',\n    data() {\n      return {\n        startYear: '',\n        endYear: '',\n      };\n    },\n    props: {\n      value: {\n        type: [Array, String],\n        default() {\n          return [];\n        },\n      },\n    },\n    watch: {\n      value: {\n        handler(val) {\n          this.startYear = val?.[0];\n          this.endYear = val?.[1];\n        },\n        immediate: true,\n      },\n    },\n    created() {\n      \n    },\n    mounted() {\n    },\n    methods: {\n      getStartRef() {\n        this.startRef = this.startRef || this.$refs.start;\n        return this.startRef;\n      },\n      getEndRef() {\n        this.endRef = this.endRef || this.$refs.end;\n        return this.endRef;\n      },\n      clickYearRange() {\n        this.getStartRef().focus();\n      },\n      blurStartEditor() {\n        if (!this.isChangeStartYear) return;\n        this.isChangeStartYear = false;\n        this.getEndRef().focus();\n      },\n      changeStartYear() {\n        this.isChangeStartYear = true;\n      },\n      blurEndEditor() {\n        if (!this.isChangeEndYear) {\n          this.$emit('input', this.value instanceof Array ? [...this.value] : []);\n          return;\n        }\n        this.isChangeEndYear = false;\n      },\n      changeEndYear() {\n        this.isChangeEndYear = true;\n        this.$emit('input', [this.startYear, this.endYear]);\n      },\n    },\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .pl-year-range {\n    display: inline-flex;\n    width: 300px;\n    cursor: pointer;\n    .split {\n      margin: auto;\n      width: 50px;\n      text-align: center;\n    }\n    ::v-deep {\n      .el-date-editor {\n        flex: 1;\n        pointer-events: none;\n        input {\n          text-align: center;\n        }\n      }\n    }\n  }\n</style>\n"]}]}