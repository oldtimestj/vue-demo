{"remainingRequest":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlMenu/MenuPanelSmall.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlMenu/MenuPanelSmall.vue","mtime":1591939319758},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNZW51SXRlbSBmcm9tICdAL2NvbXBvbmVudHMvUGxNZW51L01lbnVJdGVtJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTWVudVBhbmVsU21hbGwnLAogIGNvbXBvbmVudHM6IHsgTWVudUl0ZW0gfSwKICBwcm9wczogewogICAgZGF0YTogT2JqZWN0LAogICAgcGFyZW50SXRlbTogSFRNTERpdkVsZW1lbnQsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFuZWxTdHlsZToge30sCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGRhdGEoKSB7CiAgICAgIHRoaXMuaW5pdCgpOwogICAgfSwKICAgIHBhcmVudEl0ZW0oKSB7CiAgICAgIHRoaXMuaW5pdCgpOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQoKSB7CiAgICAgIGlmICghdGhpcy5wYXJlbnRJdGVtKSByZXR1cm47CiAgICAgIGNvbnN0IHsKICAgICAgICBvZmZzZXRMZWZ0OiBwYXJlbnRMZWZ0LAogICAgICAgIG9mZnNldFdpZHRoOiBwYXJlbnRXaWR0aCwKICAgICAgfSA9IHRoaXMucGFyZW50SXRlbTsKICAgICAgY29uc3QgeyBvZmZzZXRXaWR0aDogbWVudVdpZHRoLCBzY3JvbGxMZWZ0IH0gPSB0aGlzLnBhcmVudEl0ZW0ucGFyZW50RWxlbWVudDsKICAgICAgY29uc3QgY3VyV2lkdGggPSB0aGlzLmdldEN1ckRvbSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOwogICAgICBpZiAoY3VyV2lkdGggPj0gZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAtIHBhcmVudExlZnQgLSBzY3JvbGxMZWZ0KSB7CiAgICAgICAgdGhpcy5wYW5lbFN0eWxlID0gewogICAgICAgICAgLi4udGhpcy5wYW5lbFN0eWxlLAogICAgICAgICAgbWFyZ2luTGVmdDogYCR7cGFyZW50TGVmdCAtIGN1cldpZHRoICsgcGFyZW50V2lkdGggLSBzY3JvbGxMZWZ0fXB4YCwKICAgICAgICAgIHJpZ2h0OiBwYXJlbnRMZWZ0ICsgcGFyZW50V2lkdGggLSBzY3JvbGxMZWZ0ID4gbWVudVdpZHRoID8gMCA6ICcnLAogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYW5lbFN0eWxlID0gewogICAgICAgICAgLi4udGhpcy5wYW5lbFN0eWxlLAogICAgICAgICAgbWFyZ2luTGVmdDogYCR7cGFyZW50TGVmdCAtIHNjcm9sbExlZnR9cHhgLAogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBnZXRDdXJEb20oKSB7CiAgICAgIHRoaXMuY3VyRG9tID0gdGhpcy5jdXJEb20gfHwgdGhpcy4kcmVmcy5wYW5lbDsKICAgICAgcmV0dXJuIHRoaXMuY3VyRG9tOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["MenuPanelSmall.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MenuPanelSmall.vue","sourceRoot":"src/components/PlMenu","sourcesContent":["<!--\nCreated by zhulixiao on 2020/4/22.\n-->\n<template>\n  <div\n    ref=\"panel\"\n    :class=\"{'pl-menu-panel': parentItem}\"\n    class=\"pl-menu-panel--small\"\n    :style=\"panelStyle\"\n  >\n    <menu-item\n      v-for=\"menuItem in data.children\"\n      :key=\"menuItem.id\"\n      :menu-item=\"menuItem\"\n    />\n  </div>\n</template>\n\n<script>\n  import MenuItem from '@/components/PlMenu/MenuItem';\n\n  export default {\n    name: 'MenuPanelSmall',\n    components: { MenuItem },\n    props: {\n      data: Object,\n      parentItem: HTMLDivElement,\n    },\n    data() {\n      return {\n        panelStyle: {},\n      };\n    },\n    watch: {\n      data() {\n        this.init();\n      },\n      parentItem() {\n        this.init();\n      },\n    },\n    mounted() {\n      this.init();\n    },\n    methods: {\n      init() {\n        if (!this.parentItem) return;\n        const {\n          offsetLeft: parentLeft,\n          offsetWidth: parentWidth,\n        } = this.parentItem;\n        const { offsetWidth: menuWidth, scrollLeft } = this.parentItem.parentElement;\n        const curWidth = this.getCurDom().getBoundingClientRect().width;\n        if (curWidth >= document.body.offsetWidth - parentLeft - scrollLeft) {\n          this.panelStyle = {\n            ...this.panelStyle,\n            marginLeft: `${parentLeft - curWidth + parentWidth - scrollLeft}px`,\n            right: parentLeft + parentWidth - scrollLeft > menuWidth ? 0 : '',\n          };\n        } else {\n          this.panelStyle = {\n            ...this.panelStyle,\n            marginLeft: `${parentLeft - scrollLeft}px`,\n          };\n        }\n      },\n      getCurDom() {\n        this.curDom = this.curDom || this.$refs.panel;\n        return this.curDom;\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n"]}]}