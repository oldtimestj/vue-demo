{"remainingRequest":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/babel-loader/lib/index.js!/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlYearRange.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlYearRange.vue","mtime":1595399955518},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvdG9uZ2ppZS9EZXNrdG9wL1Z1ZVByb2plY3QvdnVlY2xpNC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUGxZZWFyUmFuZ2UnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdGFydFllYXI6ICcnLAogICAgICBlbmRZZWFyOiAnJwogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBbQXJyYXksIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5zdGFydFllYXIgPSB2YWwgPT09IG51bGwgfHwgdmFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWxbMF07CiAgICAgICAgdGhpcy5lbmRZZWFyID0gdmFsID09PSBudWxsIHx8IHZhbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsWzFdOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgZ2V0U3RhcnRSZWY6IGZ1bmN0aW9uIGdldFN0YXJ0UmVmKCkgewogICAgICB0aGlzLnN0YXJ0UmVmID0gdGhpcy5zdGFydFJlZiB8fCB0aGlzLiRyZWZzLnN0YXJ0OwogICAgICByZXR1cm4gdGhpcy5zdGFydFJlZjsKICAgIH0sCiAgICBnZXRFbmRSZWY6IGZ1bmN0aW9uIGdldEVuZFJlZigpIHsKICAgICAgdGhpcy5lbmRSZWYgPSB0aGlzLmVuZFJlZiB8fCB0aGlzLiRyZWZzLmVuZDsKICAgICAgcmV0dXJuIHRoaXMuZW5kUmVmOwogICAgfSwKICAgIGNsaWNrWWVhclJhbmdlOiBmdW5jdGlvbiBjbGlja1llYXJSYW5nZSgpIHsKICAgICAgdGhpcy5nZXRTdGFydFJlZigpLmZvY3VzKCk7CiAgICB9LAogICAgYmx1clN0YXJ0RWRpdG9yOiBmdW5jdGlvbiBibHVyU3RhcnRFZGl0b3IoKSB7CiAgICAgIGlmICghdGhpcy5pc0NoYW5nZVN0YXJ0WWVhcikgcmV0dXJuOwogICAgICB0aGlzLmlzQ2hhbmdlU3RhcnRZZWFyID0gZmFsc2U7CiAgICAgIHRoaXMuZ2V0RW5kUmVmKCkuZm9jdXMoKTsKICAgIH0sCiAgICBjaGFuZ2VTdGFydFllYXI6IGZ1bmN0aW9uIGNoYW5nZVN0YXJ0WWVhcigpIHsKICAgICAgdGhpcy5pc0NoYW5nZVN0YXJ0WWVhciA9IHRydWU7CiAgICB9LAogICAgYmx1ckVuZEVkaXRvcjogZnVuY3Rpb24gYmx1ckVuZEVkaXRvcigpIHsKICAgICAgaWYgKCF0aGlzLmlzQ2hhbmdlRW5kWWVhcikgewogICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy52YWx1ZSBpbnN0YW5jZW9mIEFycmF5ID8gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMudmFsdWUpIDogW10pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5pc0NoYW5nZUVuZFllYXIgPSBmYWxzZTsKICAgIH0sCiAgICBjaGFuZ2VFbmRZZWFyOiBmdW5jdGlvbiBjaGFuZ2VFbmRZZWFyKCkgewogICAgICB0aGlzLmlzQ2hhbmdlRW5kWWVhciA9IHRydWU7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgW3RoaXMuc3RhcnRZZWFyLCB0aGlzLmVuZFllYXJdKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["PlYearRange.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,KAAA,EAAA,MAAA,CADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,EAAA;AACA;AAJA;AADA,GARA;AAgBA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,OADA,mBACA,GADA,EACA;AACA,aAAA,SAAA,GAAA,GAAA,aAAA,GAAA,uBAAA,GAAA,CAAA,CAAA,CAAA;AACA,aAAA,OAAA,GAAA,GAAA,aAAA,GAAA,uBAAA,GAAA,CAAA,CAAA,CAAA;AACA,OAJA;AAKA,MAAA,SAAA,EAAA;AALA;AADA,GAhBA;AAyBA,EAAA,OAzBA,qBAyBA,CAEA,CA3BA;AA4BA,EAAA,OA5BA,qBA4BA,CACA,CA7BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,QAAA,GAAA,KAAA,QAAA,IAAA,KAAA,KAAA,CAAA,KAAA;AACA,aAAA,KAAA,QAAA;AACA,KAJA;AAKA,IAAA,SALA,uBAKA;AACA,WAAA,MAAA,GAAA,KAAA,MAAA,IAAA,KAAA,KAAA,CAAA,GAAA;AACA,aAAA,KAAA,MAAA;AACA,KARA;AASA,IAAA,cATA,4BASA;AACA,WAAA,WAAA,GAAA,KAAA;AACA,KAXA;AAYA,IAAA,eAZA,6BAYA;AACA,UAAA,CAAA,KAAA,iBAAA,EAAA;AACA,WAAA,iBAAA,GAAA,KAAA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,KAhBA;AAiBA,IAAA,eAjBA,6BAiBA;AACA,WAAA,iBAAA,GAAA,IAAA;AACA,KAnBA;AAoBA,IAAA,aApBA,2BAoBA;AACA,UAAA,CAAA,KAAA,eAAA,EAAA;AACA,aAAA,KAAA,CAAA,OAAA,EAAA,KAAA,KAAA,YAAA,KAAA,sBAAA,KAAA,KAAA,IAAA,EAAA;AACA;AACA;;AACA,WAAA,eAAA,GAAA,KAAA;AACA,KA1BA;AA2BA,IAAA,aA3BA,2BA2BA;AACA,WAAA,eAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,CAAA,KAAA,SAAA,EAAA,KAAA,OAAA,CAAA;AACA;AA9BA;AA9BA,CAAA","sourcesContent":["<!--\nCreated by zhulixiao on 2020/5/19.\n-->\n<template>\n  <div class=\"pl-year-range\" @click=\"clickYearRange\">\n    <el-date-picker\n      ref=\"start\"\n      type=\"year\"\n      value-format=\"yyyy\"\n      @blur=\"blurStartEditor\"\n      @change=\"changeStartYear\"\n      v-model=\"startYear\"\n    />\n    <div class=\"split\">è‡³</div>\n    <el-date-picker\n      ref=\"end\"\n      type=\"year\"\n      value-format=\"yyyy\"\n      @blur=\"blurEndEditor\"\n      @change=\"changeEndYear\"\n      v-model=\"endYear\"\n    />\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'PlYearRange',\n    data() {\n      return {\n        startYear: '',\n        endYear: '',\n      };\n    },\n    props: {\n      value: {\n        type: [Array, String],\n        default() {\n          return [];\n        },\n      },\n    },\n    watch: {\n      value: {\n        handler(val) {\n          this.startYear = val?.[0];\n          this.endYear = val?.[1];\n        },\n        immediate: true,\n      },\n    },\n    created() {\n      \n    },\n    mounted() {\n    },\n    methods: {\n      getStartRef() {\n        this.startRef = this.startRef || this.$refs.start;\n        return this.startRef;\n      },\n      getEndRef() {\n        this.endRef = this.endRef || this.$refs.end;\n        return this.endRef;\n      },\n      clickYearRange() {\n        this.getStartRef().focus();\n      },\n      blurStartEditor() {\n        if (!this.isChangeStartYear) return;\n        this.isChangeStartYear = false;\n        this.getEndRef().focus();\n      },\n      changeStartYear() {\n        this.isChangeStartYear = true;\n      },\n      blurEndEditor() {\n        if (!this.isChangeEndYear) {\n          this.$emit('input', this.value instanceof Array ? [...this.value] : []);\n          return;\n        }\n        this.isChangeEndYear = false;\n      },\n      changeEndYear() {\n        this.isChangeEndYear = true;\n        this.$emit('input', [this.startYear, this.endYear]);\n      },\n    },\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .pl-year-range {\n    display: inline-flex;\n    width: 300px;\n    cursor: pointer;\n    .split {\n      margin: auto;\n      width: 50px;\n      text-align: center;\n    }\n    ::v-deep {\n      .el-date-editor {\n        flex: 1;\n        pointer-events: none;\n        input {\n          text-align: center;\n        }\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/components"}]}