{"remainingRequest":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/babel-loader/lib/index.js!/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlMenu/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlMenu/index.vue","mtime":1603074666019},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZSI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL3RvbmdqaWUvRGVza3RvcC9WdWVQcm9qZWN0L3Z1ZWNsaTQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvdG9uZ2ppZS9EZXNrdG9wL1Z1ZVByb2plY3QvdnVlY2xpNC1kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7CmltcG9ydCBNZW51UGFuZWxTbWFsbCBmcm9tICdAL2NvbXBvbmVudHMvUGxNZW51L01lbnVQYW5lbFNtYWxsJzsKaW1wb3J0IE1lbnVQYW5lbE1lZGl1bSBmcm9tICdAL2NvbXBvbmVudHMvUGxNZW51L01lbnVQYW5lbE1lZGl1bSc7CmltcG9ydCBNZW51UGFuZWxMYXJnZSBmcm9tICdAL2NvbXBvbmVudHMvUGxNZW51L01lbnVQYW5lbExhcmdlJzsKaW1wb3J0IHByb3BzIGZyb20gJ0AvY29tcG9uZW50cy9QbE1lbnUvcHJvcHMnOwppbXBvcnQgTWVudUl0ZW0gZnJvbSAnQC9jb21wb25lbnRzL1BsTWVudS9NZW51SXRlbSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUGxNZW51JywKICBjb21wb25lbnRzOiB7CiAgICBNZW51SXRlbTogTWVudUl0ZW0sCiAgICBNZW51UGFuZWxMYXJnZTogTWVudVBhbmVsTGFyZ2UsCiAgICBNZW51UGFuZWxNZWRpdW06IE1lbnVQYW5lbE1lZGl1bSwKICAgIE1lbnVQYW5lbFNtYWxsOiBNZW51UGFuZWxTbWFsbAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IFtdLAogICAgICBhY3RpdmVJdGVtOiB7fSwKICAgICAgYWN0aXZlSXRlbURvbToge30KICAgIH07CiAgfSwKICBwcm9wczogcHJvcHMsCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnNldERhdGFEZWJvdW5jZSk7CiAgICB0aGlzLiRyZWZzLnNjcm9sbExpc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zZXREYXRhRGVib3VuY2UpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGN1ck1lbnU6IGZ1bmN0aW9uIGN1ck1lbnUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgY3VyTWVudSA9IHRoaXMuZGF0YS5maW5kKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICB2YXIgYXJyID0gW29ial07CgogICAgICAgIHdoaWxlIChhcnIubGVuZ3RoKSB7CiAgICAgICAgICB2YXIgYWN0aXZlTWVudSA9IGFyci5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLnJvdXRlciA9PT0gX3RoaXMuJHJvdXRlLnBhdGg7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChhY3RpdmVNZW51KSByZXR1cm4gdHJ1ZTsKICAgICAgICAgIHZhciB0ZW1wID0gYXJyLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgaXRlbSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGFyciA9IHRlbXAuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmNoaWxkcmVuOwogICAgICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uICh0b3RhbCwgY3VyKSB7CiAgICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRvdGFsKSwgX3RvQ29uc3VtYWJsZUFycmF5KGN1ci5jaGlsZHJlbikpOwogICAgICAgICAgfSwgW10pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9KTsKICAgICAgcmV0dXJuIGN1ck1lbnUgfHwge307CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgbWVudVRyZWU6IGZ1bmN0aW9uIG1lbnVUcmVlKCkgewogICAgICB0aGlzLmluaXQoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5zZXREYXRhKHRoaXMubWVudVRyZWUpOwogICAgICB0aGlzLnNldERhdGFEZWJvdW5jZSA9IGRlYm91bmNlKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLnNldERhdGEoKTsKICAgICAgfSwgMjAwKTsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuc2V0RGF0YURlYm91bmNlKTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuc2V0RGF0YURlYm91bmNlKTsKICAgICAgdGhpcy4kcmVmcy5zY3JvbGxMaXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2V0RGF0YURlYm91bmNlKTsKICAgICAgdGhpcy4kcmVmcy5zY3JvbGxMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2V0RGF0YURlYm91bmNlKTsKICAgIH0sCiAgICBlbnRlck1lbnVJdGVtOiBmdW5jdGlvbiBlbnRlck1lbnVJdGVtKGl0ZW0sIGRvbSkgewogICAgICB0aGlzLmFjdGl2ZUl0ZW0gPSBpdGVtOwogICAgICB0aGlzLmFjdGl2ZUl0ZW1Eb20gPSBkb207CiAgICB9LAogICAgbGVhdmVNZW51SXRlbTogZnVuY3Rpb24gbGVhdmVNZW51SXRlbSgpIHsvLyB0aGlzLmFjdGl2ZUl0ZW0gPSB7fTsKICAgIH0sCiAgICBzZXRDdXJNZW51OiBmdW5jdGlvbiBzZXRDdXJNZW51KGl0ZW0pIHsKICAgICAgdGhpcy5jdXJNZW51ID0gdGhpcy5jdXJNZW51IHx8IGl0ZW07CiAgICB9LAogICAgc2V0RGF0YTogZnVuY3Rpb24gc2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5tZW51VHJlZTsKICAgICAgdGhpcy5kYXRhID0gZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwge30sIHsKICAgICAgICAgIGRlcHRoOiBfdGhpczMuZ2V0RGVwdGgoaXRlbSkKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuYWN0aXZlSXRlbSA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuYWN0aXZlSXRlbSk7CiAgICB9LAogICAgZ2V0RGVwdGg6IGZ1bmN0aW9uIGdldERlcHRoKG9iaikgewogICAgICB2YXIgYXJyID0gW29ial07CiAgICAgIHZhciBkZXB0aCA9IDA7CgogICAgICB3aGlsZSAoYXJyLmxlbmd0aCkgewogICAgICAgIHZhciB0ZW1wID0gYXJyLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pOwogICAgICAgIH0pOwogICAgICAgIGFyciA9IHRlbXAuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jaGlsZHJlbjsKICAgICAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKHRvdGFsLCBjdXIpIHsKICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRvdGFsKSwgX3RvQ29uc3VtYWJsZUFycmF5KGN1ci5jaGlsZHJlbikpOwogICAgICAgIH0sIFtdKTsKICAgICAgICBpZiAoYXJyLmxlbmd0aCkgZGVwdGggKz0gMTsKICAgICAgfQoKICAgICAgcmV0dXJuIGRlcHRoOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\nCreated by zhulixiao on 2020/4/22.\n-->\n<template>\n  <div class=\"pl-menu\" @mouseleave=\"leaveMenuItem\">\n    <div ref=\"scrollList\" class=\"pl-menu-item__list\">\n      <div\n        v-for=\"(parentItem, parentIndex) in data\"\n        :key=\"parentItem.id\"\n        class=\"pl-submenu-item\"\n        :class=\"{'is-active': activeItem.id === parentItem.id || curMenu.id === parentItem.id}\"\n        @mouseenter=\"enterMenuItem(parentItem, $refs.parentItem[parentIndex])\"\n        ref=\"parentItem\"\n      >\n        <menu-item :menu-item=\"parentItem\"/>\n      </div>\n    </div>\n    <transition v-for=\"parentItem in data\" name=\"fade\" :key=\"parentItem.id\">\n      <div\n        v-if=\"activeItem.id && parentItem.id === activeItem.id && activeItemDom\"\n      >\n        <menu-panel-small\n          v-if=\"activeItem.depth === 1\"\n          :data=\"activeItem\"\n          :parentItem=\"activeItemDom\"\n        />\n        <menu-panel-medium\n          v-else-if=\"activeItem.depth === 2\"\n          :data=\"activeItem\"\n          :parentItem=\"activeItemDom\"\n        />\n        <menu-panel-large\n          v-else-if=\"activeItem.depth === 3\"\n          :data=\"activeItem\"\n          :parentItem=\"activeItemDom\"\n        />\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\n  import debounce from 'lodash/debounce';\n  import MenuPanelSmall from '@/components/PlMenu/MenuPanelSmall';\n  import MenuPanelMedium from '@/components/PlMenu/MenuPanelMedium';\n  import MenuPanelLarge from '@/components/PlMenu/MenuPanelLarge';\n  import props from '@/components/PlMenu/props';\n  import MenuItem from '@/components/PlMenu/MenuItem';\n\n  export default {\n    name: 'PlMenu',\n    components: {\n      MenuItem, MenuPanelLarge, MenuPanelMedium, MenuPanelSmall, \n    },\n    data() {\n      return {\n        data: [],\n        activeItem: {},\n        activeItemDom: {},\n      };\n    },\n    props,\n    mounted() {\n      this.init();\n    },\n    beforeDestroy() {\n      window.removeEventListener('resize', this.setDataDebounce);\n      this.$refs.scrollList.removeEventListener('scroll', this.setDataDebounce);\n    },\n    computed: {\n      curMenu() {\n        const curMenu = this.data.find((obj) => {\n          let arr = [obj];\n          while (arr.length) {\n            const activeMenu = arr.find(item => item.router === this.$route.path);\n            if (activeMenu) return true;\n            const temp = arr.map(item => ({ ...item }));\n            arr = temp.filter(item => item.children)\n              .reduce((total, cur) => [...total, ...cur.children], []);\n          }\n          return false;\n        });\n        return curMenu || {};\n      },\n    },\n    watch: {\n      menuTree() {\n        this.init();\n      },\n    },\n    methods: {\n      init() {\n        this.setData(this.menuTree);\n        this.setDataDebounce = debounce(() => this.setData(), 200);\n        window.removeEventListener('resize', this.setDataDebounce);\n        window.addEventListener('resize', this.setDataDebounce);\n        this.$refs.scrollList.removeEventListener('scroll', this.setDataDebounce);\n        this.$refs.scrollList.addEventListener('scroll', this.setDataDebounce);\n      },\n      enterMenuItem(item, dom) {\n        this.activeItem = item;\n        this.activeItemDom = dom;\n      },\n      leaveMenuItem() {\n        // this.activeItem = {};\n      },\n      setCurMenu(item) {\n        this.curMenu = this.curMenu || item;\n      },\n      setData(data = this.menuTree) {\n        this.data = data.map(item => ({\n          ...item,\n          depth: this.getDepth(item),\n        }));\n        this.activeItem = { ...this.activeItem };\n      },\n      getDepth(obj) {\n        let arr = [obj];\n        let depth = 0;\n        while (arr.length) {\n          const temp = arr.map(item => ({ ...item }));\n          arr = temp.filter(item => item.children)\n            .reduce((total, cur) => [...total, ...cur.children], []);\n          if (arr.length) depth += 1;\n        }\n        return depth;\n      },\n    },\n  };\n</script>\n<style lang=\"sass\">\n  @import './index.scss'\n</style>\n"],"sourceRoot":"src/components/PlMenu"}]}