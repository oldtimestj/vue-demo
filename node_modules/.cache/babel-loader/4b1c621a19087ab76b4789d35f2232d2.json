{"remainingRequest":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/babel-loader/lib/index.js!/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlMenu/MenuPanelSmall.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlMenu/MenuPanelSmall.vue","mtime":1591939319758},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3RvbmdqaWUvRGVza3RvcC9WdWVQcm9qZWN0L3Z1ZWNsaTQtZGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBNZW51SXRlbSBmcm9tICdAL2NvbXBvbmVudHMvUGxNZW51L01lbnVJdGVtJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNZW51UGFuZWxTbWFsbCcsCiAgY29tcG9uZW50czogewogICAgTWVudUl0ZW06IE1lbnVJdGVtCiAgfSwKICBwcm9wczogewogICAgZGF0YTogT2JqZWN0LAogICAgcGFyZW50SXRlbTogSFRNTERpdkVsZW1lbnQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYW5lbFN0eWxlOiB7fQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICB0aGlzLmluaXQoKTsKICAgIH0sCiAgICBwYXJlbnRJdGVtOiBmdW5jdGlvbiBwYXJlbnRJdGVtKCkgewogICAgICB0aGlzLmluaXQoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIGlmICghdGhpcy5wYXJlbnRJdGVtKSByZXR1cm47CiAgICAgIHZhciBfdGhpcyRwYXJlbnRJdGVtID0gdGhpcy5wYXJlbnRJdGVtLAogICAgICAgICAgcGFyZW50TGVmdCA9IF90aGlzJHBhcmVudEl0ZW0ub2Zmc2V0TGVmdCwKICAgICAgICAgIHBhcmVudFdpZHRoID0gX3RoaXMkcGFyZW50SXRlbS5vZmZzZXRXaWR0aDsKICAgICAgdmFyIF90aGlzJHBhcmVudEl0ZW0kcGFyZSA9IHRoaXMucGFyZW50SXRlbS5wYXJlbnRFbGVtZW50LAogICAgICAgICAgbWVudVdpZHRoID0gX3RoaXMkcGFyZW50SXRlbSRwYXJlLm9mZnNldFdpZHRoLAogICAgICAgICAgc2Nyb2xsTGVmdCA9IF90aGlzJHBhcmVudEl0ZW0kcGFyZS5zY3JvbGxMZWZ0OwogICAgICB2YXIgY3VyV2lkdGggPSB0aGlzLmdldEN1ckRvbSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOwoKICAgICAgaWYgKGN1cldpZHRoID49IGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggLSBwYXJlbnRMZWZ0IC0gc2Nyb2xsTGVmdCkgewogICAgICAgIHRoaXMucGFuZWxTdHlsZSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5wYW5lbFN0eWxlKSwge30sIHsKICAgICAgICAgIG1hcmdpbkxlZnQ6ICIiLmNvbmNhdChwYXJlbnRMZWZ0IC0gY3VyV2lkdGggKyBwYXJlbnRXaWR0aCAtIHNjcm9sbExlZnQsICJweCIpLAogICAgICAgICAgcmlnaHQ6IHBhcmVudExlZnQgKyBwYXJlbnRXaWR0aCAtIHNjcm9sbExlZnQgPiBtZW51V2lkdGggPyAwIDogJycKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBhbmVsU3R5bGUgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMucGFuZWxTdHlsZSksIHt9LCB7CiAgICAgICAgICBtYXJnaW5MZWZ0OiAiIi5jb25jYXQocGFyZW50TGVmdCAtIHNjcm9sbExlZnQsICJweCIpCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRDdXJEb206IGZ1bmN0aW9uIGdldEN1ckRvbSgpIHsKICAgICAgdGhpcy5jdXJEb20gPSB0aGlzLmN1ckRvbSB8fCB0aGlzLiRyZWZzLnBhbmVsOwogICAgICByZXR1cm4gdGhpcy5jdXJEb207CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["MenuPanelSmall.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA,OAAA,QAAA,MAAA,8BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,QAAA,EAAA;AAAA,GAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,MADA;AAEA,IAAA,UAAA,EAAA;AAFA,GAHA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AADA,KAAA;AAGA,GAXA;AAYA,EAAA,KAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,IAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA;AACA,WAAA,IAAA;AACA;AANA,GAZA;AAoBA,EAAA,OApBA,qBAoBA;AACA,SAAA,IAAA;AACA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,UAAA,CAAA,KAAA,UAAA,EAAA;AADA,6BAKA,KAAA,UALA;AAAA,UAGA,UAHA,oBAGA,UAHA;AAAA,UAIA,WAJA,oBAIA,WAJA;AAAA,kCAMA,KAAA,UAAA,CAAA,aANA;AAAA,UAMA,SANA,yBAMA,WANA;AAAA,UAMA,UANA,yBAMA,UANA;AAOA,UAAA,QAAA,GAAA,KAAA,SAAA,GAAA,qBAAA,GAAA,KAAA;;AACA,UAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,WAAA,GAAA,UAAA,GAAA,UAAA,EAAA;AACA,aAAA,UAAA,mCACA,KAAA,UADA;AAEA,UAAA,UAAA,YAAA,UAAA,GAAA,QAAA,GAAA,WAAA,GAAA,UAAA,OAFA;AAGA,UAAA,KAAA,EAAA,UAAA,GAAA,WAAA,GAAA,UAAA,GAAA,SAAA,GAAA,CAAA,GAAA;AAHA;AAKA,OANA,MAMA;AACA,aAAA,UAAA,mCACA,KAAA,UADA;AAEA,UAAA,UAAA,YAAA,UAAA,GAAA,UAAA;AAFA;AAIA;AACA,KArBA;AAsBA,IAAA,SAtBA,uBAsBA;AACA,WAAA,MAAA,GAAA,KAAA,MAAA,IAAA,KAAA,KAAA,CAAA,KAAA;AACA,aAAA,KAAA,MAAA;AACA;AAzBA;AAvBA,CAAA","sourcesContent":["<!--\nCreated by zhulixiao on 2020/4/22.\n-->\n<template>\n  <div\n    ref=\"panel\"\n    :class=\"{'pl-menu-panel': parentItem}\"\n    class=\"pl-menu-panel--small\"\n    :style=\"panelStyle\"\n  >\n    <menu-item\n      v-for=\"menuItem in data.children\"\n      :key=\"menuItem.id\"\n      :menu-item=\"menuItem\"\n    />\n  </div>\n</template>\n\n<script>\n  import MenuItem from '@/components/PlMenu/MenuItem';\n\n  export default {\n    name: 'MenuPanelSmall',\n    components: { MenuItem },\n    props: {\n      data: Object,\n      parentItem: HTMLDivElement,\n    },\n    data() {\n      return {\n        panelStyle: {},\n      };\n    },\n    watch: {\n      data() {\n        this.init();\n      },\n      parentItem() {\n        this.init();\n      },\n    },\n    mounted() {\n      this.init();\n    },\n    methods: {\n      init() {\n        if (!this.parentItem) return;\n        const {\n          offsetLeft: parentLeft,\n          offsetWidth: parentWidth,\n        } = this.parentItem;\n        const { offsetWidth: menuWidth, scrollLeft } = this.parentItem.parentElement;\n        const curWidth = this.getCurDom().getBoundingClientRect().width;\n        if (curWidth >= document.body.offsetWidth - parentLeft - scrollLeft) {\n          this.panelStyle = {\n            ...this.panelStyle,\n            marginLeft: `${parentLeft - curWidth + parentWidth - scrollLeft}px`,\n            right: parentLeft + parentWidth - scrollLeft > menuWidth ? 0 : '',\n          };\n        } else {\n          this.panelStyle = {\n            ...this.panelStyle,\n            marginLeft: `${parentLeft - scrollLeft}px`,\n          };\n        }\n      },\n      getCurDom() {\n        this.curDom = this.curDom || this.$refs.panel;\n        return this.curDom;\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n"],"sourceRoot":"src/components/PlMenu"}]}