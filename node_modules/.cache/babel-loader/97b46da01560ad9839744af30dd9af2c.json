{"remainingRequest":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/babel-loader/lib/index.js!/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/src/components/PlSelect.vue","mtime":1591939319761},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tongjie/Desktop/VueProject/vuecli4-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90b25namllL0Rlc2t0b3AvVnVlUHJvamVjdC92dWVjbGk0LWRlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1BsU2VsZWN0JywKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogW0FycmF5LCBTdHJpbmddLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KICAgIH0sCiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBvcHRpb25Qcm9wczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogJ3ZhbHVlJywKICAgICAgICAgIGxhYmVsOiAnbGFiZWwnCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIGhhc1NlbGVjdEFsbDogQm9vbGVhbiwKICAgIG11bHRpcGxlOiBCb29sZWFuCiAgfSwKICBjb21wdXRlZDogewogICAgaXNBbGxTZWxlY3RlZDogZnVuY3Rpb24gaXNBbGxTZWxlY3RlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUubGVuZ3RoID09PSB0aGlzLm9wdGlvbnNMZW5ndGg7CiAgICB9LAogICAgaXNOb25lU2VsZWN0ZWQ6IGZ1bmN0aW9uIGlzTm9uZVNlbGVjdGVkKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5sZW5ndGggPT09IDA7CiAgICB9LAogICAgb3B0aW9uc0xlbmd0aDogZnVuY3Rpb24gb3B0aW9uc0xlbmd0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5sZW5ndGg7CiAgICB9LAogICAgZW5hYmxlU2VsZWN0QWxsOiBmdW5jdGlvbiBlbmFibGVTZWxlY3RBbGwoKSB7CiAgICAgIHJldHVybiB0aGlzLm11bHRpcGxlICYmIHRoaXMuaGFzU2VsZWN0QWxsOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5lbmFibGVTZWxlY3RBbGwpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBpZiAoISh2YWwubGVuZ3RoID09PSBfdGhpcy5vcHRpb25zTGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRuZXh0VGljaygpOwoKICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0RWxTZWxlY3RUYWdzRG9tKCkuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0RWxTZWxlY3RJbnB1dERvbSgpLnZhbHVlID0gJ+WFqOmDqCc7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwKTsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0RWxTZWxlY3RUYWdzRG9tKCkuc3R5bGUuZGlzcGxheSA9ICcnOwogICAgICAgICAgICAgICAgICBfdGhpcy5nZXRFbFNlbGVjdElucHV0RG9tKCkudmFsdWUgPSAnJzsKCiAgICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKSgpOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsaWNrU2VsZWN0QWxsOiBmdW5jdGlvbiBjbGlja1NlbGVjdEFsbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMuaXNBbGxTZWxlY3RlZCA/IFtdIDogdGhpcy5vcHRpb25zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtW190aGlzMi5vcHRpb25Qcm9wcy52YWx1ZV07CiAgICAgIH0pKTsKICAgIH0sCiAgICBnZXRFbFNlbGVjdFRhZ3NEb206IGZ1bmN0aW9uIGdldEVsU2VsZWN0VGFnc0RvbSgpIHsKICAgICAgdGhpcy5lbFNlbGVjdFRhZ3NEb20gPSB0aGlzLmVsU2VsZWN0VGFnc0RvbSB8fCB0aGlzLiRyZWZzLnNlbGVjdC4kZWwucXVlcnlTZWxlY3RvcignLmVsLXNlbGVjdF9fdGFncycpOwogICAgICByZXR1cm4gdGhpcy5lbFNlbGVjdFRhZ3NEb207CiAgICB9LAogICAgZ2V0RWxTZWxlY3RJbnB1dERvbTogZnVuY3Rpb24gZ2V0RWxTZWxlY3RJbnB1dERvbSgpIHsKICAgICAgdGhpcy5lbFNlbGVjdElucHV0RG9tID0gdGhpcy5lbFNlbGVjdElucHV0RG9tIHx8IHRoaXMuJHJlZnMuc2VsZWN0LiRlbC5xdWVyeVNlbGVjdG9yKCcuZWwtaW5wdXRfX2lubmVyJyk7CiAgICAgIHJldHVybiB0aGlzLmVsU2VsZWN0SW5wdXREb207CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["PlSelect.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\nCreated by zhulixiao on 2020/5/11.\n-->\n<template>\n  <el-select\n    class=\"pl-select\"\n    :class=\"{'pl-select-all': enableSelectAll}\"\n    :popper-append-to-body=\"false\"\n    ref=\"select\"\n    :value=\"value\"\n    :multiple=\"multiple\"\n    v-bind=\"$attrs\"\n    v-on=\"$listeners\"\n  >\n    <li\n      v-if=\"enableSelectAll\"\n      @mouseenter.prevent=\"$refs.select.hoverIndex = Infinity\"\n      @click.prevent=\"clickSelectAll\"\n      class=\"el-select-dropdown__item\"\n    >\n      <el-checkbox\n        :indeterminate=\"!isAllSelected && !isNoneSelected\"\n        :value=\"isAllSelected\"\n      >\n        全选\n      </el-checkbox>\n    </li>\n    <el-option\n      v-for=\"item in options\"\n      :key=\"item[optionProps.value]\"\n      ref=\"option\"\n      :value=\"item[optionProps.value]\"\n      :label=\"item[optionProps.label]\"\n    >\n      <span v-if=\"enableSelectAll\" @click.prevent>\n        <el-checkbox\n          :value=\"value.indexOf(item[optionProps.value]) > -1\"\n          :label=\"item[optionProps.label]\"\n        />\n      </span>\n      <template v-else>{{item[optionProps.label]}}</template>\n    </el-option>\n    <template slot=\"empty\"><slot name=\"empty\"></slot></template>\n    <template slot=\"prefix\"><slot name=\"prefix\"></slot></template>\n  </el-select>\n</template>\n\n<script>\n  export default {\n    name: 'PlSelect',\n    props: {\n      value: {\n        type: [Array, String],\n        default() {\n          return '';\n        },\n      },\n      options: {\n        type: Array,\n        default() {\n          return [];\n        },\n      },\n      optionProps: {\n        type: Object,\n        default() {\n          return { value: 'value', label: 'label' };\n        },\n      },\n      hasSelectAll: Boolean,\n      multiple: Boolean,\n    },\n    computed: {\n      isAllSelected() {\n        return this.value.length === this.optionsLength;\n      },\n      isNoneSelected() {\n        return this.value.length === 0;\n      },\n      optionsLength() {\n        return this.options.length;\n      },\n      enableSelectAll() {\n        return this.multiple && this.hasSelectAll;\n      },\n    },\n    data() {\n      return {\n      };\n    },\n    watch: {\n      value: {\n        async handler(val) {\n          if (!this.enableSelectAll) return;\n          if (val.length === this.optionsLength) {\n            await this.$nextTick();\n            this.getElSelectTagsDom().style.display = 'none';\n            this.getElSelectInputDom().value = '全部';\n          } else {\n            await new Promise(resolve => setTimeout(resolve, 10));\n            this.getElSelectTagsDom().style.display = '';\n            this.getElSelectInputDom().value = '';\n          }\n        },\n        immediate: true,\n      },\n    },\n    methods: {\n      clickSelectAll() {\n        this.$emit('input', this.isAllSelected ? [] : this.options.map(item => item[this.optionProps.value]));\n      },\n      getElSelectTagsDom() {\n        this.elSelectTagsDom = this.elSelectTagsDom || this.$refs.select.$el.querySelector('.el-select__tags');\n        return this.elSelectTagsDom;\n      },\n      getElSelectInputDom() {\n        this.elSelectInputDom = this.elSelectInputDom || this.$refs.select.$el.querySelector('.el-input__inner');\n        return this.elSelectInputDom;\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n  .pl-select-all {\n    ::v-deep {\n      .el-select-dropdown.is-multiple .el-select-dropdown__item.selected::after {\n        display: none;\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/components"}]}