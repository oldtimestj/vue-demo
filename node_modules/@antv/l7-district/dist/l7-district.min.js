!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@antv/l7")):"function"==typeof define&&define.amd?define(["exports","@antv/l7"],e):e(((t=t||self).L7=t.L7||{},t.L7.District={}),t.L7)}(this,(function(t,e){"use strict";function r(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function n(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;e.length>r;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;arguments.length>e;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function y(t,e,r){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(r):i.value}})(t,e,r||t)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);e>r;r++)n[r]=t[r];return n}var g=function(t,e){return t===e||t!=t&&e!=e};var w=function(t,e){for(var r=t.length;r--;)if(g(t[r][0],e))return r;return-1},m=Array.prototype.splice;var L=function(t){var e=this.__data__,r=w(e,t);return r>=0&&(r==e.length-1?e.pop():m.call(e,r,1),--this.size,!0)};var x=function(t){var e=this.__data__,r=w(e,t);return 0>r?void 0:e[r][1]};var j=function(t){return w(this.__data__,t)>-1};var _=function(t,e){var r=this.__data__,n=w(r,t);return 0>n?(++this.size,r.push([t,e])):r[n][1]=e,this};function k(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}k.prototype.clear=function(){this.__data__=[],this.size=0},k.prototype.delete=L,k.prototype.get=x,k.prototype.has=j,k.prototype.set=_;var F=k;var O=function(){this.__data__=new F,this.size=0};var D=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var S=function(t){return this.__data__.get(t)};var P=function(t){return this.__data__.has(t)},V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function M(t,e){return t(e={exports:{}},e.exports),e.exports}var A="object"==typeof V&&V&&V.Object===Object&&V,B="object"==typeof self&&self&&self.Object===Object&&self,C=A||B||Function("return this")(),z=C.Symbol,T=Object.prototype,E=T.hasOwnProperty,R=T.toString,N=z?z.toStringTag:void 0;var I=function(t){var e=E.call(t,N),r=t[N];try{t[N]=void 0;var n=!0}catch(t){}var i=R.call(t);return n&&(e?t[N]=r:delete t[N]),i},W=Object.prototype.toString;var H=function(t){return W.call(t)},U=z?z.toStringTag:void 0;var $=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":U&&U in Object(t)?I(t):H(t)};var G=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var q,Z=function(t){if(!G(t))return!1;var e=$(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},J=C["__core-js_shared__"],K=(q=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"";var Q=function(t){return!!K&&K in t},X=Function.prototype.toString;var Y=function(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+""}catch(t){}}return""},tt=/^\[object .+?Constructor\]$/,et=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var rt=function(t){return!(!G(t)||Q(t))&&(Z(t)?et:tt).test(Y(t))};var nt=function(t,e){return null==t?void 0:t[e]};var it=function(t,e){var r=nt(t,e);return rt(r)?r:void 0},ot=it(C,"Map"),at=it(Object,"create");var st=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ut=Object.prototype.hasOwnProperty;var ct=function(t){var e=this.__data__;if(at){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return ut.call(e,t)?e[t]:void 0},lt=Object.prototype.hasOwnProperty;var ft=function(t){var e=this.__data__;return at?void 0!==e[t]:lt.call(e,t)};var pt=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=at&&void 0===e?"__lodash_hash_undefined__":e,this};function ht(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ht.prototype.clear=function(){this.__data__=at?at(null):{},this.size=0},ht.prototype.delete=st,ht.prototype.get=ct,ht.prototype.has=ft,ht.prototype.set=pt;var dt=ht;var yt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var vt=function(t,e){var r=t.__data__;return yt(e)?r["string"==typeof e?"string":"hash"]:r.map};var bt=function(t){var e=vt(this,t).delete(t);return this.size-=e?1:0,e};var gt=function(t){return vt(this,t).get(t)};var wt=function(t){return vt(this,t).has(t)};var mt=function(t,e){var r=vt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Lt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Lt.prototype.clear=function(){this.size=0,this.__data__={hash:new dt,map:new(ot||F),string:new dt}},Lt.prototype.delete=bt,Lt.prototype.get=gt,Lt.prototype.has=wt,Lt.prototype.set=mt;var xt=Lt;var jt=function(t,e){var r=this.__data__;if(r instanceof F){var n=r.__data__;if(!ot||199>n.length)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new xt(n)}return r.set(t,e),this.size=r.size,this};function _t(t){var e=this.__data__=new F(t);this.size=e.size}_t.prototype.clear=O,_t.prototype.delete=D,_t.prototype.get=S,_t.prototype.has=P,_t.prototype.set=jt;var kt=_t,Ft=function(){try{var t=it(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Ot=function(t,e,r){"__proto__"==e&&Ft?Ft(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var Dt=function(t,e,r){(void 0!==r&&!g(t[e],r)||void 0===r&&!(e in t))&&Ot(t,e,r)};var St=function(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===r(o[u],u,o))break}return e}}(),Pt=M((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,i=n&&n.exports===r?C.Buffer:void 0,o=i?i.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=o?o(r):new t.constructor(r);return t.copy(n),n}})),Vt=C.Uint8Array;var Mt=function(t){var e=new t.constructor(t.byteLength);return new Vt(e).set(new Vt(t)),e};var At=function(t,e){var r=e?Mt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var Bt=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e},Ct=Object.create,zt=function(){function t(){}return function(e){if(!G(e))return{};if(Ct)return Ct(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var Tt=function(t,e){return function(r){return t(e(r))}}(Object.getPrototypeOf,Object),Et=Object.prototype;var Rt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Et)};var Nt=function(t){return"function"!=typeof t.constructor||Rt(t)?{}:zt(Tt(t))};var It=function(t){return null!=t&&"object"==typeof t};var Wt=function(t){return It(t)&&"[object Arguments]"==$(t)},Ht=Object.prototype,Ut=Ht.hasOwnProperty,$t=Ht.propertyIsEnumerable,Gt=Wt(function(){return arguments}())?Wt:function(t){return It(t)&&Ut.call(t,"callee")&&!$t.call(t,"callee")},qt=Array.isArray;var Zt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&9007199254740991>=t};var Jt=function(t){return null!=t&&Zt(t.length)&&!Z(t)};var Kt=function(t){return It(t)&&Jt(t)};var Qt=function(){return!1},Xt=M((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,i=n&&n.exports===r?C.Buffer:void 0;t.exports=(i?i.isBuffer:void 0)||Qt})),Yt=Function.prototype.toString,te=Object.prototype.hasOwnProperty,ee=Yt.call(Object);var re=function(t){if(!It(t)||"[object Object]"!=$(t))return!1;var e=Tt(t);if(null===e)return!0;var r=te.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Yt.call(r)==ee},ne={};ne["[object Float32Array]"]=ne["[object Float64Array]"]=ne["[object Int8Array]"]=ne["[object Int16Array]"]=ne["[object Int32Array]"]=ne["[object Uint8Array]"]=ne["[object Uint8ClampedArray]"]=ne["[object Uint16Array]"]=ne["[object Uint32Array]"]=!0,ne["[object Arguments]"]=ne["[object Array]"]=ne["[object ArrayBuffer]"]=ne["[object Boolean]"]=ne["[object DataView]"]=ne["[object Date]"]=ne["[object Error]"]=ne["[object Function]"]=ne["[object Map]"]=ne["[object Number]"]=ne["[object Object]"]=ne["[object RegExp]"]=ne["[object Set]"]=ne["[object String]"]=ne["[object WeakMap]"]=!1;var ie=function(t){return It(t)&&Zt(t.length)&&!!ne[$(t)]};var oe=function(t){return function(e){return t(e)}},ae=M((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,i=n&&n.exports===r&&A.process,o=function(){try{var t=n&&n.require&&n.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=o})),se=ae&&ae.isTypedArray,ue=se?oe(se):ie;var ce=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},le=Object.prototype.hasOwnProperty;var fe=function(t,e,r){var n=t[e];le.call(t,e)&&g(n,r)&&(void 0!==r||e in t)||Ot(t,e,r)};var pe=function(t,e,r,n){var i=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=n?n(r[s],t[s],s,r,t):void 0;void 0===u&&(u=t[s]),i?Ot(r,s,u):fe(r,s,u)}return r};var he=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},de=/^(?:0|[1-9]\d*)$/;var ye=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&de.test(t))&&t>-1&&t%1==0&&e>t},ve=Object.prototype.hasOwnProperty;var be=function(t,e){var r=qt(t),n=!r&&Gt(t),i=!r&&!n&&Xt(t),o=!r&&!n&&!i&&ue(t),a=r||n||i||o,s=a?he(t.length,String):[],u=s.length;for(var c in t)!e&&!ve.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ye(c,u))||s.push(c);return s};var ge=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},we=Object.prototype.hasOwnProperty;var me=function(t){if(!G(t))return ge(t);var e=Rt(t),r=[];for(var n in t)("constructor"!=n||!e&&we.call(t,n))&&r.push(n);return r};var Le=function(t){return Jt(t)?be(t,!0):me(t)};var xe=function(t){return pe(t,Le(t))};var je=function(t,e,r,n,i,o,a){var s=ce(t,r),u=ce(e,r),c=a.get(u);if(c)Dt(t,r,c);else{var l=o?o(s,u,r+"",t,e,a):void 0,f=void 0===l;if(f){var p=qt(u),h=!p&&Xt(u),d=!p&&!h&&ue(u);l=u,p||h||d?qt(s)?l=s:Kt(s)?l=Bt(s):h?(f=!1,l=Pt(u,!0)):d?(f=!1,l=At(u,!0)):l=[]:re(u)||Gt(u)?(l=s,Gt(s)?l=xe(s):G(s)&&!Z(s)||(l=Nt(u))):f=!1}f&&(a.set(u,l),i(l,u,n,o,a),a.delete(u)),Dt(t,r,l)}};var _e=function t(e,r,n,i,o){e!==r&&St(r,(function(a,s){if(o||(o=new kt),G(a))je(e,r,s,n,t,i,o);else{var u=i?i(ce(e,s),a,s+"",e,r,o):void 0;void 0===u&&(u=a),Dt(e,s,u)}}),Le)};var ke=function(t){return t};var Fe=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},Oe=Math.max;var De=function(t,e,r){return e=Oe(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=Oe(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),Fe(t,this,s)}};var Se=function(t){return function(){return t}},Pe=Date.now;var Ve=function(t){var e=0,r=0;return function(){var n=Pe(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Ft?function(t,e){return Ft(t,"toString",{configurable:!0,enumerable:!1,value:Se(e),writable:!0})}:ke);var Me=function(t,e){return Ve(De(t,e,ke),t+"")};var Ae=function(t,e,r){if(!G(r))return!1;var n=typeof e;return!!("number"==n?Jt(r)&&ye(e,r.length):"string"==n&&e in r)&&g(r[e],t)};var Be=function(t){return Me((function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&Ae(r[0],r[1],a)&&(o=3>i?void 0:o,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,o)}return e}))},Ce=Be((function(t,e,r){_e(t,e,r)})),ze=2,Te={1:{world:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/35bb8365-1926-471c-b357-db2c02ff3a81.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8ec671c3-a4f9-4fdf-8e88-85d2ab1d8930.bin"},label:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/90c51eb3-04d7-402f-bd05-95e4bd27dd62.bin",parser:{type:"geojson"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"}},country:{CHN:{1:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/380370e0-76aa-4240-8874-5732de77e71d.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/70ec087e-c48a-4b76-8825-6452f17bae7a.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"},label:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/36832a45-68f8-4b51-b006-9dec71f92a23.json"}},2:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/feeb1f06-11c6-4495-84c9-f41ea6f77123.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"}},3:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/24a9ee83-2be1-4fc1-b187-769ac939269d.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},countryLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"},nationalBoundaries2:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/f2189cc4-662b-4358-8573-36f0f918b7ca.json"},island:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/fe49b393-1147-4769-94ed-70471f4ff15d.json"}}},province:{11e4:""}},2:{world:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/ad26cd25-96ea-40fd-935d-7e21a5c08893.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/62f61f5f-cca7-4137-845d-13c8f9969664.bin"},label:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/90c51eb3-04d7-402f-bd05-95e4bd27dd62.bin",parser:{type:"geojson"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"}},country:{CHN:{1:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/25228941-b2ac-4591-b07d-8261ac08d06f.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/70ec087e-c48a-4b76-8825-6452f17bae7a.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/0024caaf-86b2-4e75-a3d1-6d2146490b67.bin"},label:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/36832a45-68f8-4b51-b006-9dec71f92a23.json"}},2:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/522c6496-c711-4581-88db-c3741cd39abd.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/f6a4e2b1-359b-43a6-921c-39d2088d1dab.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/f6a4e2b1-359b-43a6-921c-39d2088d1dab.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/0024caaf-86b2-4e75-a3d1-6d2146490b67.bin"}},3:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/516b2703-d692-44e6-80dd-b3f5df0186e7.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},countryLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"},nationalBoundaries2:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/f2189cc4-662b-4358-8573-36f0f918b7ca.json"},island:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/fe49b393-1147-4769-94ed-70471f4ff15d.json"}}},province:{11e4:""}}};function Ee(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze;return Te[t]}function Re(t){ze=t}var Ne,Ie,We,He,Ue,$e=Te[ze],Ge=M((function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||t,a),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=this._events[r?r+t:t];if(!e)return[];if(e.fn)return[e.fn];for(var n=0,i=e.length,o=Array(i);i>n;n++)o[n]=e[n].fn;return o},s.prototype.listenerCount=function(t){var e=this._events[r?r+t:t];return e?e.fn?1:e.length:0},s.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,o),!0;case 6:return l.fn.call(l.context,e,n,i,o,a),!0}for(c=1,u=Array(f-1);f>c;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,h=l.length;for(c=0;h>c;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(p=1,u=Array(f-1);f>p;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},s.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},s.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,c=[],l=s.length;l>u;u++)(s[u].fn!==e||i&&!s[u].once||n&&s[u].context!==n)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?this._events[e=r?r+t:t]&&a(this,e):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})).EventEmitter,qe={Point:0,MultiPoint:1,LineString:2,MultiLineString:3,Polygon:4,MultiPolygon:5,GeometryCollection:6};function Ze(t){for(var e=0;t.length>e;e++)Je(t[e])}function Je(t){for(var e=0;t.length>e;e++)Ke(t[e])}function Ke(t){He=Math.max(He,t.length);for(var e=0;t.length>e;e++)for(;Math.round(t[e]*Ue)/Ue!==t[e]&&1e6>Ue;)Ue*=10}function Qe(t){void 0===Ne[t]&&(We.push(t),Ne[t]=Ie++)}function Xe(t,e){for(var r=0;t.features.length>r;r++)e.writeMessage(1,Ye,t.features[r]);er(t,e,!0)}function Ye(t,e){null!==t.geometry&&e.writeMessage(1,tr,t.geometry),void 0!==t.id&&("number"==typeof t.id&&t.id%1==0?e.writeSVarintField(12,t.id):e.writeStringField(11,t.id)),t.properties&&er(t.properties,e),er(t,e,!0)}function tr(t,e){e.writeVarintField(1,qe[t.type]);var r=t.coordinates;if("Point"===t.type)!function(t,e){for(var r=[],n=0;He>n;n++)r.push(Math.round(t[n]*Ue));e.writePackedSVarint(3,r)}(r,e);else if("MultiPoint"===t.type)nr(r,e);else if("LineString"===t.type)nr(r,e);else if("MultiLineString"===t.type)ir(r,e);else if("Polygon"===t.type)ir(r,e,!0);else if("MultiPolygon"===t.type)!function(t,e){var r,n,i=t.length;if(1!==i||1!==t[0].length){var o=[i];for(r=0;i>r;r++)for(o.push(t[r].length),n=0;t[r].length>n;n++)o.push(t[r][n].length-1);e.writePackedVarint(2,o)}var a=[];for(r=0;i>r;r++)for(n=0;t[r].length>n;n++)or(a,t[r][n],!0);e.writePackedSVarint(3,a)}(r,e);else if("GeometryCollection"===t.type)for(var n=0;t.geometries.length>n;n++)e.writeMessage(4,tr,t.geometries[n]);er(t,e,!0)}function er(t,e,r){var n=[],i=0;for(var o in t)r&&ar(o,t.type)||(e.writeMessage(13,rr,t[o]),n.push(Ne[o]),n.push(i++));e.writePackedVarint(r?15:14,n)}function rr(t,e){if(null!==t){var r=typeof t;"string"===r?e.writeStringField(1,t):"boolean"===r?e.writeBooleanField(5,t):"object"===r?e.writeStringField(6,JSON.stringify(t)):"number"===r&&(t%1!=0?e.writeDoubleField(2,t):0>t?e.writeVarintField(4,-t):e.writeVarintField(3,t))}}function nr(t,e){var r=[];or(r,t),e.writePackedSVarint(3,r)}function ir(t,e,r){var n,i=t.length;if(1!==i){var o=[];for(n=0;i>n;n++)o.push(t[n].length-(r?1:0));e.writePackedVarint(2,o)}var a=[];for(n=0;i>n;n++)or(a,t[n],r);e.writePackedSVarint(3,a)}function or(t,e,r){var n,i,o=e.length-(r?1:0),a=Array(He);for(i=0;He>i;i++)a[i]=0;for(n=0;o>n;n++)for(i=0;He>i;i++){var s=Math.round(e[n][i]*Ue)-a[i];t.push(s),a[i]+=s}}function ar(t,e){if("type"===t)return!0;if("FeatureCollection"===e){if("features"===t)return!0}else if("Feature"===e){if("id"===t||"properties"===t||"geometry"===t)return!0}else if("GeometryCollection"===e){if("geometries"===t)return!0}else if("coordinates"===t)return!0;return!1}var sr,ur,cr,lr,fr,pr=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];function hr(t,e,r){1===t?sr.push(r.readString()):2===t?lr=r.readVarint():3===t?fr=Math.pow(10,r.readVarint()):4===t?function(t,e){e.type="FeatureCollection",e.features=[],t.readMessage(vr,e)}(r,e):5===t?dr(r,e):6===t&&yr(r,e)}function dr(t,e){e.type="Feature";var r=t.readMessage(br,e);return"geometry"in r||(r.geometry=null),r}function yr(t,e){return e.type="Point",t.readMessage(gr,e)}function vr(t,e,r){1===t?e.features.push(dr(r,{})):13===t?ur.push(wr(r)):15===t&&mr(r,e)}function br(t,e,r){1===t?e.geometry=yr(r,{}):11===t?e.id=r.readString():12===t?e.id=r.readSVarint():13===t?ur.push(wr(r)):14===t?e.properties=mr(r,{}):15===t&&mr(r,e)}function gr(t,e,r){1===t?e.type=pr[r.readVarint()]:2===t?cr=r.readPackedVarint():3===t?function(t,e,r){"Point"===r?t.coordinates=function(t){var e=t.readVarint()+t.pos,r=[];for(;e>t.pos;)r.push(t.readSVarint()/fr);return r}(e):"MultiPoint"===r||"LineString"===r?t.coordinates=xr(e):"MultiLineString"===r?t.coordinates=jr(e):"Polygon"===r?t.coordinates=jr(e,!0):"MultiPolygon"===r&&(t.coordinates=function(t){var e=t.readVarint()+t.pos;if(!cr)return[[Lr(t,e,null,!0)]];for(var r=[],n=1,i=0;cr[0]>i;i++){for(var o=[],a=0;cr[n]>a;a++)o.push(Lr(t,e,cr[n+1+a],!0));n+=cr[n]+1,r.push(o)}return cr=null,r}(e))}(e,r,e.type):4===t?(e.geometries=e.geometries||[],e.geometries.push(yr(r,{}))):13===t?ur.push(wr(r)):15===t&&mr(r,e)}function wr(t){for(var e=t.readVarint()+t.pos,r=null;e>t.pos;){var n=t.readVarint()>>3;1===n?r=t.readString():2===n?r=t.readDouble():3===n?r=t.readVarint():4===n?r=-t.readVarint():5===n?r=t.readBoolean():6===n&&(r=JSON.parse(t.readString()))}return r}function mr(t,e){for(var r=t.readVarint()+t.pos;r>t.pos;)e[sr[t.readVarint()]]=ur[t.readVarint()];return ur=[],e}function Lr(t,e,r,n){var i,o,a=0,s=[],u=[];for(o=0;lr>o;o++)u[o]=0;for(;r?r>a:e>t.pos;){for(i=[],o=0;lr>o;o++)u[o]+=t.readSVarint(),i[o]=u[o]/fr;s.push(i),a++}return n&&s.push(s[0]),s}function xr(t){return Lr(t,t.readVarint()+t.pos)}function jr(t,e){var r=t.readVarint()+t.pos;if(!cr)return[Lr(t,r,null,e)];for(var n=[],i=0;cr.length>i;i++)n.push(Lr(t,r,cr[i],e));return cr=null,n}var _r={encode:function(t,e){Ne={},We=[],Ie=0,He=0,Ue=1,function t(e){var r,n;if("FeatureCollection"===e.type)for(r=0;e.features.length>r;r++)t(e.features[r]);else if("Feature"===e.type)for(n in null!==e.geometry&&t(e.geometry),e.properties)Qe(n);else if("Point"===e.type)Ke(e.coordinates);else if("MultiPoint"===e.type)Je(e.coordinates);else if("GeometryCollection"===e.type)for(r=0;e.geometries.length>r;r++)t(e.geometries[r]);else if("LineString"===e.type)Je(e.coordinates);else if("Polygon"===e.type||"MultiLineString"===e.type)Ze(e.coordinates);else if("MultiPolygon"===e.type)for(r=0;e.coordinates.length>r;r++)Ze(e.coordinates[r]);for(n in e)ar(n,e.type)||Qe(n)}(t);for(var r=Math.ceil(Math.log(Ue=Math.min(Ue,1e6))/Math.LN10),n=0;We.length>n;n++)e.writeStringField(1,We[n]);2!==He&&e.writeVarintField(2,He);6!==r&&e.writeVarintField(3,r);"FeatureCollection"===t.type?e.writeMessage(4,Xe,t):"Feature"===t.type?e.writeMessage(5,Ye,t):e.writeMessage(6,tr,t);return Ne=null,e.finish()},decode:function(t){lr=2,fr=1e6,cr=null,sr=[],ur=[];var e=t.readFields(hr,{});return sr=null,e}},kr=Be((function(t,e,r,n){_e(t,e,r,n)})),Fr=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,p=r?-1:1,h=t[e+f];for(f+=p,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=p,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},Or=function(t,e,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,p=23===i?5.960464477539062e-8:0,h=n?0:o-1,d=n?1:-1,y=0>e||0===e&&0>1/e?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(s=isNaN(e)?1:0,a=l):(1>e*(u=Math.pow(2,-(a=Math.floor(Math.log(e)/Math.LN2))))&&(a--,u*=2),2>(e+=1>a+f?p*Math.pow(2,1-f):p/u)*u||(a++,u/=2),l>a+f?1>a+f?(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0):(s=(e*u-1)*Math.pow(2,i),a+=f):(s=0,a=l));i>=8;t[r+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+h]=255&a,h+=d,a/=256,c-=8);t[r+h-d]|=128*y},Dr=Sr;function Sr(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Sr.Varint=0,Sr.Fixed64=1,Sr.Bytes=2,Sr.Fixed32=5;var Pr="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Vr(t){return t.type===Sr.Bytes?t.readVarint()+t.pos:t.pos+1}function Mr(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Ar(t,e,r){var n=e>16383?e>2097151?e>268435455?Math.floor(Math.log(e)/(7*Math.LN2)):3:2:1;r.realloc(n);for(var i=r.pos-1;i>=t;i--)r.buf[i+n]=r.buf[i]}function Br(t,e){for(var r=0;t.length>r;r++)e.writeVarint(t[r])}function Cr(t,e){for(var r=0;t.length>r;r++)e.writeSVarint(t[r])}function zr(t,e){for(var r=0;t.length>r;r++)e.writeFloat(t[r])}function Tr(t,e){for(var r=0;t.length>r;r++)e.writeDouble(t[r])}function Er(t,e){for(var r=0;t.length>r;r++)e.writeBoolean(t[r])}function Rr(t,e){for(var r=0;t.length>r;r++)e.writeFixed32(t[r])}function Nr(t,e){for(var r=0;t.length>r;r++)e.writeSFixed32(t[r])}function Ir(t,e){for(var r=0;t.length>r;r++)e.writeFixed64(t[r])}function Wr(t,e){for(var r=0;t.length>r;r++)e.writeSFixed64(t[r])}function Hr(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Ur(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function $r(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}Sr.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;r>this.pos;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,t(i,e,this),this.pos===o&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Hr(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=$r(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Hr(this.buf,this.pos)+4294967296*Hr(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=Hr(this.buf,this.pos)+4294967296*$r(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Fr(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Fr(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return e=127&(r=n[this.pos++]),128>r?e:(e|=(127&(r=n[this.pos++]))<<7,128>r?e:(e|=(127&(r=n[this.pos++]))<<14,128>r?e:(e|=(127&(r=n[this.pos++]))<<21,128>r?e:function(t,e,r){var n,i,o=r.buf;if(i=o[r.pos++],n=(112&i)>>4,128>i)return Mr(t,n,e);if(i=o[r.pos++],n|=(127&i)<<3,128>i)return Mr(t,n,e);if(i=o[r.pos++],n|=(127&i)<<10,128>i)return Mr(t,n,e);if(i=o[r.pos++],n|=(127&i)<<17,128>i)return Mr(t,n,e);if(i=o[r.pos++],n|=(127&i)<<24,128>i)return Mr(t,n,e);if(i=o[r.pos++],n|=(1&i)<<31,128>i)return Mr(t,n,e);throw Error("Expected varint not more than 10 bytes")}(e|=(15&(r=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&Pr?function(t,e,r){return Pr.decode(t.subarray(e,r))}(this.buf,e,t):function(t,e,r){var n="",i=e;for(;r>i;){var o,a,s,u=t[i],c=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l>r)break;1===l?128>u&&(c=u):2===l?128==(192&(o=t[i+1]))&&((c=(31&u)<<6|63&o)>127||(c=null)):3===l?(a=t[i+2],128==(192&(o=t[i+1]))&&128==(192&a)&&((c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(55296>c||c>57343)||(c=null))):4===l&&(a=t[i+2],s=t[i+3],128==(192&(o=t[i+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&1114112>c||(c=null))),null===c?(c=65533,l=1):c>65535&&(n+=String.fromCharCode((c-=65536)>>>10&1023|55296),c=56320|1023&c),n+=String.fromCharCode(c),i+=l}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Sr.Bytes)return t.push(this.readVarint(e));var r=Vr(this);for(t=t||[];r>this.pos;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Sr.Bytes)return t.push(this.readSVarint());var e=Vr(this);for(t=t||[];e>this.pos;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Sr.Bytes)return t.push(this.readBoolean());var e=Vr(this);for(t=t||[];e>this.pos;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Sr.Bytes)return t.push(this.readFloat());var e=Vr(this);for(t=t||[];e>this.pos;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Sr.Bytes)return t.push(this.readDouble());var e=Vr(this);for(t=t||[];e>this.pos;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Sr.Bytes)return t.push(this.readFixed32());var e=Vr(this);for(t=t||[];e>this.pos;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Sr.Bytes)return t.push(this.readSFixed32());var e=Vr(this);for(t=t||[];e>this.pos;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Sr.Bytes)return t.push(this.readFixed64());var e=Vr(this);for(t=t||[];e>this.pos;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Sr.Bytes)return t.push(this.readSFixed64());var e=Vr(this);for(t=t||[];e>this.pos;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Sr.Varint)for(;this.buf[this.pos++]>127;);else if(e===Sr.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Sr.Fixed32)this.pos+=4;else{if(e!==Sr.Fixed64)throw Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;this.pos+t>e;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Ur(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Ur(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Ur(this.buf,-1&t,this.pos),Ur(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Ur(this.buf,-1&t,this.pos),Ur(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||0>t?function(t,e){var r,n;0>t?(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0)):(r=t%4294967296|0,n=t/4294967296|0);if(t>=0x10000000000000000||-0x10000000000000000>t)throw Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,r.buf[r.pos]=127&(t>>>=7)}(r,0,e),function(t,e){var r=(7&t)<<4;if(e.buf[e.pos++]|=r|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t>127&&(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t>127&&(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t>127&&(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(0>t?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(!!t)},writeString:function(t){this.realloc(4*(t+="").length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var n,i,o=0;e.length>o;o++){if((n=e.charCodeAt(o))>55295&&57344>n){if(!i){n>56319||o+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):i=n;continue}if(56320>n){t[r++]=239,t[r++]=191,t[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(t[r++]=239,t[r++]=191,t[r++]=189,i=null);128>n?t[r++]=n:(2048>n?t[r++]=n>>6|192:(65536>n?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128)}return r}(this.buf,t,this.pos);var r=this.pos-e;128>r||Ar(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),Or(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Or(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;e>r;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;128>n||Ar(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,r){this.writeTag(t,Sr.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,Br,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Cr,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,Er,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,zr,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Tr,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,Rr,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,Nr,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,Ir,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,Wr,e)},writeBytesField:function(t,e){this.writeTag(t,Sr.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Sr.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Sr.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Sr.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Sr.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Sr.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Sr.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Sr.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Sr.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Sr.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,!!e)}};var Gr=function(t,e){this.p1=t,this.p2=e};Gr.prototype.rise=function(){return this.p2[1]-this.p1[1]},Gr.prototype.run=function(){return this.p2[0]-this.p1[0]},Gr.prototype.slope=function(){return this.rise()/this.run()},Gr.prototype.yIntercept=function(){return this.p1[1]-this.p1[0]*this.slope(this.p1,this.p2)},Gr.prototype.isVertical=function(){return!isFinite(this.slope())},Gr.prototype.isHorizontal=function(){return this.p1[1]==this.p2[1]},Gr.prototype._perpendicularDistanceHorizontal=function(t){return Math.abs(this.p1[1]-t[1])},Gr.prototype._perpendicularDistanceVertical=function(t){return Math.abs(this.p1[0]-t[0])},Gr.prototype._perpendicularDistanceHasSlope=function(t){var e=this.slope(),r=this.yIntercept();return Math.abs(e*t[0]-t[1]+r)/Math.sqrt(Math.pow(e,2)+1)},Gr.prototype.perpendicularDistance=function(t){return this.isVertical()?this._perpendicularDistanceVertical(t):this.isHorizontal()?this._perpendicularDistanceHorizontal(t):this._perpendicularDistanceHasSlope(t)};var qr=Gr,Zr=function(t,e){for(var r=0,n=0,i=1;t.length-2>=i;i++){var o=new qr(t[0],t[t.length-1]).perpendicularDistance(t[i]);o>r&&(n=i,r=o)}if(r>e)var a=Zr(t.slice(0,n),e),s=Zr(t.slice(n,t.length),e),u=a.concat(s);else u=t.length>1?[t[0],t[t.length-1]]:[t[0]];return u},Jr=Zr,Kr=M((function(t){function e(e,r){var n=e.geometry,i=n.type;if("LineString"===i)n.coordinates=t.exports.simplify(n.coordinates,r);else if("Polygon"===i||"MultiLineString"===i)for(var o=0;n.coordinates.length>o;o++)n.coordinates[o]=t.exports.simplify(n.coordinates[o],r);else if("MultiPolygon"===i)for(var a=0;n.coordinates.length>a;a++)for(var s=0;n.coordinates[a].length>s;s++)n.coordinates[a][s]=t.exports.simplify(n.coordinates[a][s],r);return e}t.exports=function(t,r,n){return n||(t=JSON.parse(JSON.stringify(t))),t.features?function(t,r){for(var n=0;t.features.length>n;n++)t.features[n]=e(t.features[n],r);return t}(t,r):t.type&&"Feature"===t.type?e(t,r):Error("FeatureCollection or individual Feature required")},t.exports.simplify=function(t,e){return Jr(t,e)}}));function Qr(t,e){if(Array.isArray(e))return e}var Xr=function(t){l(s,t);var r,o=d(s);function s(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,s),(e=o.call(this)).layers=[],e.scene=t,e.options=kr(e.getDefaultOption(),r,Qr),Re(e.options.geoDataLevel),e}return a(s,[{key:"destroy",value:function(){var t=this;this.layers.forEach((function(e){return t.scene.removeLayer(e)})),this.layers.length=0}},{key:"show",value:function(){this.layers.forEach((function(t){return t.show()}))}},{key:"hide",value:function(){this.layers.forEach((function(t){return t.hide()}))}},{key:"setOption",value:function(t){this.options=kr(this.options,t,Qr)}},{key:"getFillData",value:function(){return this.fillData}},{key:"getOptions",value:function(){return this.options}},{key:"updateData",value:function(t,e){this.setOption({data:t,joinBy:e});var r=this.options,n=r.data,i=void 0===n?[]:n,o=r.joinBy;this.fillLayer.setData(this.fillData,{transforms:0===i.length?[]:[{type:"join",sourceField:o[1],targetField:o[0],data:i}]})}},{key:"fetchData",value:(r=n(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("pbf"!==e.type){t.next=11;break}return t.next=3,fetch(e.url);case 3:return t.next=5,t.sent.arrayBuffer();case 5:return r=_r.decode(new Dr(t.sent)),!1!==this.options.simplifyTolerance&&(r=Kr(r,this.options.simplifyTolerance)),t.abrupt("return",r);case 11:if(!G(e.url)){t.next=15;break}t.t0=e.url,t.next=18;break;case 15:return t.next=17,fetch(e.url);case 17:t.t0=t.sent.json();case 18:return t.abrupt("return",t.t0);case 19:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"getDefaultOption",value:function(){return{zIndex:0,visible:!0,geoDataLevel:2,depth:1,adcode:[],joinBy:["name","name"],simplifyTolerance:!1,label:{enable:!0,color:"#000",field:"name",size:10,stroke:"#fff",strokeWidth:2,textAllowOverlap:!0,opacity:1,textOffset:[0,0],padding:[5,5]},bubble:{enable:!1,shape:"circle",color:"#1AA9FF",size:15,style:{opacity:1,stroke:"#fff",strokeWidth:1}},fill:{scale:null,color:"#ddd",style:{opacity:1},activeColor:!1},autoFit:!0,showBorder:!0,stroke:"#bdbdbd",strokeVisible:!0,strokeWidth:.6,cityStroke:"#636363",cityStrokeWidth:.6,countyStrokeWidth:.6,provinceStrokeWidth:.6,provinceStroke:"#f0f0f0",provinceStrokeVisible:!0,countyStroke:"#525252",coastlineStroke:"#4190da",coastlineWidth:.6,nationalStroke:"#c994c7",nationalWidth:.5,chinaNationalStroke:"gray",chinaNationalWidth:1,popup:{enable:!0,openTriggerEvent:"mousemove",closeTriggerEvent:"mouseout",option:{},Html:function(t){return"".concat(t.name)}}}}},{key:"addFillLayer",value:function(t){var r,n=this.options,i=n.popup,o=n.data,a=void 0===o?[]:o,s=n.fill,u=n.autoFit,l=n.joinBy,f=n.visible;this.fillData=t;var p=new e.PolygonLayer({autoFit:u,visible:f}).source(t,{transforms:0===a.length?[]:[{type:"join",sourceField:l[1],targetField:l[0],data:a}]});if(this.setLayerAttribute(p,"color",s.color),this.setLayerAttribute(p,"filter",s.filter),s.scale&&G(s.color)&&p.scale("color",{type:s.scale,field:s.color.field}),p.shape("fill").style(s.style),s.activeColor&&p.active({color:s.activeColor}),this.fillLayer=p,this.layers.push(p),this.scene.addLayer(p),this.options.bubble&&!1!==(null===(r=this.options.bubble)||void 0===r?void 0:r.enable)){var h=t.features.map((function(t){return c(c({},t.properties),{},{center:[t.properties.x,t.properties.y]})}));this.addBubbleLayer(h)}i.enable&&this.addPopup(),this.emit("loaded")}},{key:"addFillLine",value:function(t){var r=this.options,n=r.stroke,i=r.strokeWidth,o=new e.LineLayer({zIndex:r.zIndex+.1,visible:r.visible}).source(t).color(n).size(i).style({opacity:1});this.scene.addLayer(o),this.layers.push(o),this.lineLayer=o}},{key:"addLabelLayer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",r=this.addLabel(t,e);this.scene.addLayer(r),this.layers.push(r),this.labelLayer=r}},{key:"addBubbleLayer",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",n=this.options,i=n.bubble,o=n.zIndex,a=n.data,s=void 0===a?[]:a,u=n.joinBy,c=n.visible,l=new e.PointLayer({zIndex:o+.3,visible:c}).source(t,{parser:{type:r,coordinates:"center"},transforms:0===s.length?[]:[{type:"join",sourceField:u[1],targetField:u[0],data:s}]});return this.setLayerAttribute(l,"color",i.color),this.setLayerAttribute(l,"size",i.size),this.setLayerAttribute(l,"shape",i.shape),this.setLayerAttribute(l,"filter",i.filter),i.scale&&l.scale(i.scale.field,{type:i.scale.type}),l.style(i.style),this.scene.addLayer(l),this.layers.push(l),this.bubbleLayer=l,l}},{key:"addLabel",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",n=this.options,i=n.label,o=n.zIndex,a=n.visible,s=new e.PointLayer({zIndex:o+5,visible:a}).source(t,{parser:{type:r,coordinates:"center"}}).shape(i.field,"text").style(i);return this.setLayerAttribute(s,"color",i.color),this.setLayerAttribute(s,"size",i.size),this.setLayerAttribute(s,"filter",i.filter),s}},{key:"addPopup",value:function(){var t,r=this,n=this.options.popup;(t=n.triggerLayer?"bubble"===n.triggerLayer?this.bubbleLayer:this.fillLayer:this.options.bubble.enable?this.bubbleLayer:this.fillLayer).on(n.openTriggerEvent,(function(t){var i=n.Html?n.Html(t.feature.properties?t.feature.properties:t.feature):"";r.popup=new e.Popup(c({closeButton:!1},n.option)).setLnglat(t.lngLat).setHTML(i),r.scene.addPopup(r.popup)})),t.on(n.closeTriggerEvent,(function(t){r.popup&&r.popup.remove()}))}},{key:"setLayerAttribute",value:function(t,e,r){r&&(G(r)?t[e](r.field,r.values):t[e](r))}}]),s}(Ge),Yr=function(t){l(s,t);var e,r,o=d(s);function s(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,s),(e=o.call(this,t,r)).addProvinceFillLayer(),e}return a(s,[{key:"updateDistrict",value:function(t,e,r){var n;if(t||!Array.isArray(t)||0!==t.length){var i=this.options,o=i.label,a=i.showBorder;this.setOption({adcode:t});var s=this.filterData(this.fillRawData,t),u=this.filterData(this.lineRawData,t),l=this.filterLabelData(this.labelRawData,t);if(this.options.bubble&&!1!==(null===(n=this.options.bubble)||void 0===n?void 0:n.enable)){var f=s.features.map((function(t){return c(c({},t.properties),{},{center:[t.properties.x,t.properties.y]})}));this.bubbleLayer.setData(f)}this.fillData=s,this.updateData(e,r),a&&this.lineLayer.setData(u),o.enable&&this.labelLayer.setData(l),this.show()}else this.hide()}},{key:"getDefaultOption",value:function(){var t=y(f(s.prototype),"getDefaultOption",this).call(this);return Ce({},t,{adcode:["110000"],depth:2,label:{field:"NAME_CHN",textAllowOverlap:!1},popup:{enable:!0,Html:function(t){return"<span>".concat(t.NAME_CHN,"</span>")}}})}},{key:"filterData",value:function(t,e){var r=Array.isArray(e)?e:[e];return{type:"FeatureCollection",features:t.features.filter((function(t){var e=t.properties.adcode_pro;return-1!==r.indexOf(e)||-1!==r.indexOf(""+e)}))}}},{key:"filterLabelData",value:function(t,e){var r=Array.isArray(e)?e:[e];return t.filter((function(t){var e=t.adcode_pro;return-1!==r.indexOf(e)||-1!==r.indexOf(""+e)}))}},{key:"addProvinceFillLayer",value:(r=n(regeneratorRuntime.mark((function t(){var e,r,n,i,o,a,s,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(e=this.options).depth,n=e.adcode,i=e.label,o=e.showBorder,a=Ee(this.options.geoDataLevel).country.CHN[r],t.next=4,this.fetchData(a.fill);case 4:this.labelRawData=(s=t.sent).features.map((function(t){return c(c({},t.properties),{},{center:[t.properties.x,t.properties.y]})})),u=this.filterData(s,n),this.fillData=u,l=this.filterLabelData(this.labelRawData,n),this.fillRawData=s,this.addFillLayer(u),i.enable&&this.addLabelLayer(l),this.lineRawData=s,o&&this.addFillLine(u);case 14:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"addProvinceLineLayer",value:(e=n(regeneratorRuntime.mark((function t(){var e,r,n,i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(e=this.options).depth,n=e.adcode,i=Ee(this.options.geoDataLevel).country.CHN[r],t.next=4,this.fetchData(i.line);case 4:a=this.filterData(o=t.sent,n),this.lineRawData=o,this.addFillLine(a);case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),s}(Xr),tn=function(t){l(r,t);var e=d(r);function r(){return i(this,r),e.apply(this,arguments)}return a(r,[{key:"getDefaultOption",value:function(){var t=y(f(r.prototype),"getDefaultOption",this).call(this);return Ce({},t,{adcode:["110000"],depth:3})}},{key:"filterData",value:function(t,e){var r=Array.isArray(e)?e:[e];return{type:"FeatureCollection",features:t.features.filter((function(t){var e=t.properties.adcode_cit;return-1!==r.indexOf(e)||-1!==r.indexOf(""+e)}))}}},{key:"filterLabelData",value:function(t,e){var r=Array.isArray(e)?e:[e];return t.filter((function(t){var e=t.adcode_cit;return-1!==r.indexOf(e)||-1!==r.indexOf(""+e)}))}}]),r}(Yr),en=function(t){l(b,t);var r,o,s,u,f,p,h,y,v=d(b);function b(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,b);var n=(e=v.call(this,t,r)).options,o=n.depth,a=n.showBorder;e.addProvinceFill(),e.addProvinceLabel();var s=Ee(e.options.geoDataLevel).country.CHN[o];return a&&(e.addProvinceLine(s.provinceLine),2===o&&e.addCityBorder(s.fill),3===o&&e.addCountyBorder(s.fill)),e}return a(b,[{key:"addProvinceFill",value:(y=n(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.options.depth,r=Ee(this.options.geoDataLevel).country.CHN[e],t.next=4,this.fetchData(r.fill);case 4:this.addFillLayer(t.sent);case 6:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"addProvinceLabel",value:(h=n(regeneratorRuntime.mark((function t(){var e,r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.options.depth,!(n=Ee(this.options.geoDataLevel).country.CHN[r]).label){t.next=8;break}return t.next=5,this.fetchData(n.label);case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0=null;case 9:(i=t.t0)&&(null===(e=this.options.label)||void 0===e?void 0:e.enable)&&(this.addLabelLayer(i.filter((function(t){return"澳门"!==t.name}))),this.addMCLabel());case 11:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"addProvinceLine",value:(p=n(regeneratorRuntime.mark((function t(e){var r,n,i,o,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchData(e);case 2:n=(r=t.sent).features.filter((function(t){return"1"===t.properties.type})),i=r.features.filter((function(t){return"4"===t.properties.type})),o={type:"FeatureCollection",features:n},a={type:"FeatureCollection",features:i},s=r.features.filter((function(t){var e=t.properties.type;return"1"!==e&&"4"!==e})),this.addNationBorder({type:"FeatureCollection",features:s},o,a);case 10:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"addNormalProvinceLine",value:(f=n(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t){return f.apply(this,arguments)})},{key:"loadData",value:(u=n(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.options.depth,r=Ee(this.options.geoDataLevel).country.CHN[e],t.next=4,this.fetchData(r.fill);case 4:if(n=t.sent,!r.label){t.next=11;break}return t.next=8,this.fetchData(r.label);case 8:t.t0=t.sent,t.next=12;break;case 11:t.t0=null;case 12:return t.abrupt("return",[n,t.t0]);case 14:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"addNationBorder",value:(s=n(regeneratorRuntime.mark((function t(r,n,i){var o,a,s,u,c,l,f,p,h,d,y,v,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=(o=this.options).provinceStroke,s=o.provinceStrokeWidth,u=o.chinaNationalStroke,c=o.chinaNationalWidth,l=o.coastlineStroke,f=o.coastlineWidth,p=o.showBorder,y=new e.LineLayer({zIndex:(d=o.zIndex)+.1,visible:(h=o.visible)&&p}).source(r).size("type",(function(t){return"3"===t?s:"2"===t?f:"0"===t?c:"#fff"})).shape("line").color("type",(function(t){return"3"===t?a:"2"===t?l:"0"===t?u:"#fff"})),v=new e.LineLayer({zIndex:d+.1,visible:h&&p}).source(n).size(c).shape("line").color(u).style({lineType:"dash",dashArray:[2,2]}),b=new e.LineLayer({zIndex:d+.1,visible:h&&p}).source(i).size(s).shape("line").color(a).style({lineType:"dash",dashArray:[4,2,2,2]}),this.scene.addLayer(y),this.scene.addLayer(v),this.scene.addLayer(b),this.layers.push(y,v,b);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return s.apply(this,arguments)})},{key:"addCityBorder",value:(o=n(regeneratorRuntime.mark((function t(r){var n,i,o,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchData(r);case 2:n=t.sent,o=(i=this.options).cityStroke,a=i.cityStrokeWidth,s=new e.LineLayer({zIndex:2,visible:i.visible}).source(n).color(o).size(a).style({opacity:.5}),this.scene.addLayer(s),this.layers.push(s);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"addCountyBorder",value:(r=n(regeneratorRuntime.mark((function t(r){var n,i,o,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchData(r);case 2:n=t.sent,o=(i=this.options).countyStrokeWidth,a=i.countyStroke,s=new e.LineLayer({zIndex:2,visible:i.visible}).source(n).color(a).size(o).style({opacity:.5}),this.scene.addLayer(s),this.layers.push(s);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"addMCLabel",value:function(){var t=[{name:"澳门",center:[113.537747,22.187009]}],e=this.addText(t,{maxZoom:2.9},[-45,-10]),r=this.addText(t,{minZoom:3,maxZoom:4},[-35,-10]),n=this.addText(t,{minZoom:4.1},[0,0]);this.scene.addLayer(n),this.scene.addLayer(e),this.scene.addLayer(r),this.layers.push(n,e,r)}},{key:"addText",value:function(t,r,n){var i=this.options,o=i.label;return new e.PointLayer(c({zIndex:i.zIndex+.4,visible:i.visible},r)).source(t,{parser:{type:"json",coordinates:"center"}}).color(o.color).shape("name","text").size(o.size).style({opacity:o.opacity,stroke:o.stroke,strokeWidth:o.strokeWidth,textAllowOverlap:o.textAllowOverlap,textOffset:n})}}]),b}(Xr),rn=function(t){l(r,t);var e=d(r);function r(){return i(this,r),e.apply(this,arguments)}return a(r,[{key:"getDefaultOption",value:function(){var t=y(f(r.prototype),"getDefaultOption",this).call(this);return Ce({},t,{adcode:["110100"],depth:3})}},{key:"filterData",value:function(t,e){var r=Array.isArray(e)?e:[e];return{type:"FeatureCollection",features:t.features.filter((function(t){var e=t.properties.adcode;return-1!==r.indexOf(e)||-1!==r.indexOf(""+e)}))}}},{key:"filterLabelData",value:function(t,e){var r=Array.isArray(e)?e:[e];return t.filter((function(t){var e=t.adcode;return-1!==r.indexOf(e)||-1!==r.indexOf(""+e)}))}}]),r}(Yr);function nn(t,e){if(Array.isArray(e))return e}var on=function(){function t(e,r){var n=this;i(this,t),this.drillState=0,this.layers=[],this.options=kr(this.getDefaultOption(),r,nn),this.scene=e,this.provinceLayer=new en(e,this.getLayerOption("province")),this.cityLayer=new Yr(e,this.getLayerOption("city")),this.countyLayer=new tn(e,this.getLayerOption("county")),this.scene.setMapStatus({doubleClickZoom:!1}),this.options.customTrigger||(this.provinceLayer.on("loaded",(function(){n.addCountryEvent(),n.layers.push(n.provinceLayer)})),this.cityLayer.on("loaded",(function(){n.addProvinceEvent(),n.layers.push(n.cityLayer)})),this.countyLayer.on("loaded",(function(){n.addCityEvent(),n.layers.push(n.cityLayer)})))}return a(t,[{key:"getDefaultOption",value:function(){return{drillDepth:2,customTrigger:!1,drillDownTriggerEvent:"click",drillUpTriggerEvent:"undblclick",provinceData:[],cityData:[],countyData:[],city:{adcode:[]},county:{adcode:[]}}}},{key:"addCountryEvent",value:function(){var t=this,e=this.options,r=e.drillDownEvent;this.provinceLayer.fillLayer.on(e.drillDownTriggerEvent,(function(e){t.provinceLayer.hide(),t.drillDown(e.feature.properties.adcode),r&&r(e.feature.properties)}))}},{key:"addProvinceEvent",value:function(){var t=this,e=this.options,r=e.drillDownTriggerEvent,n=e.drillUpEvent,i=e.drillDownEvent;this.cityLayer.fillLayer.on(e.drillUpTriggerEvent,(function(){var e=t.getProperties(t.provinceLayer.getFillData(),t.cityLayer.getOptions().adcode);t.drillUp(),n&&n(e)})),this.cityLayer.fillLayer.on(r,(function(e){t.drillDown(e.feature.properties.adcode),i&&i(e.feature.properties)}))}},{key:"addCityEvent",value:function(){var t=this,e=this.options,r=e.drillUpEvent;this.countyLayer.fillLayer.on(e.drillUpTriggerEvent,(function(){var e=t.getProperties(t.cityLayer.getFillData(),t.countyLayer.getOptions().adcode);t.drillUp(),r&&r(e)}))}},{key:"show",value:function(){this.layers.forEach((function(t){return t.show()}))}},{key:"hide",value:function(){this.layers.forEach((function(t){return t.hide()}))}},{key:"destroy",value:function(){this.layers.forEach((function(t){return t.destroy()}))}},{key:"showProvinceView",value:function(t,e,r){this.cityLayer.show(),this.cityLayer.updateDistrict(t,e,r),this.cityLayer.fillLayer.fitBounds(),this.countyLayer.hide(),this.drillState=1}},{key:"showCityView",value:function(t,e,r){this.countyLayer.show();var n="".concat(t);"00"===n.substr(2,2)&&(n=[n.substr(0,2)+"0100",n.substr(0,2)+"0200"]),this.countyLayer.updateDistrict(n,e,r),this.countyLayer.fillLayer.fitBounds(),this.cityLayer.hide(),this.drillState=2}},{key:"drillUp",value:function(){switch(this.drillState){case 2:this.cityLayer.show(),this.cityLayer.fillLayer.fitBounds(),this.countyLayer.hide(),this.drillState=1;break;case 1:this.provinceLayer.show(),this.provinceLayer.fillLayer.fitBounds(),this.cityLayer.hide(),this.drillState=0}}},{key:"drillDown",value:function(t,e,r){if(this.drillState!==this.options.drillDepth)switch(this.drillState){case 0:this.showProvinceView(t,e,r);break;case 1:this.showCityView(t,e,r)}}},{key:"updateData",value:function(t,e,r){switch(t){case"province":this.provinceLayer.updateData(e,r);break;case"city":this.cityLayer.updateData(e,r);break;case"county":this.countyLayer.updateData(e,r)}}},{key:"getLayerOption",value:function(t){var e=this.options;return c({data:this.options[t+"Data"],joinBy:e.joinBy,label:e.label,bubble:e.bubble,fill:e.fill,popup:e.popup,geoDataLevel:e.geoDataLevel},this.options[t])}},{key:"getProperties",value:function(t,e){var r=Array.isArray(e)?e:[e],n=t.features.filter((function(t){var e=t.properties.adcode;return-1!==r.indexOf(e)||-1!==r.indexOf(""+e)}));return n[0]?n[0].properties:{}}}]),t}(),an=function(t){l(s,t);var r,o=d(s);function s(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,s),(e=o.call(this,t,r)).loadData().then((function(t){var r,n=v(t,3),i=n[1],o=n[2];e.addFillLayer(n[0]),e.options.showBorder&&e.addFillLine(i),(null===(r=e.options.label)||void 0===r?void 0:r.enable)&&e.addLabelLayer(o,"json")})),e}return a(s,[{key:"addFillLine",value:function(t){var e={type:"FeatureCollection",features:t.features.filter((function(t){return"10"===t.properties.type||"1"===t.properties.type||"11"===t.properties.type||"8"===t.properties.type}))},r=t.features.filter((function(t){return"10"!==t.properties.type&&"1"!==t.properties.type&&"11"!==t.properties.type&&"8"!==t.properties.type}));this.addNationBorder({type:"FeatureCollection",features:r},e)}},{key:"loadData",value:(r=n(regeneratorRuntime.mark((function t(){var e,r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Ee(this.options.geoDataLevel).world,t.next=3,this.fetchData(e.fill);case 3:return r=t.sent,t.next=6,this.fetchData(e.line);case 6:return n=t.sent,i=r.features.map((function(t){return c(c({},t.properties),{},{center:[t.properties.x,t.properties.y]})})),t.abrupt("return",[r,n,i]);case 9:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"addNationBorder",value:function(t,r){var n=this.options,i=n.nationalStroke,o=n.nationalWidth,a=n.coastlineStroke,s=n.chinaNationalStroke,u=n.chinaNationalWidth,c=n.coastlineWidth,l=n.visible,f=n.zIndex,p=new e.LineLayer({zIndex:f+.1,visible:l}).source(t).size("type",(function(t){return"0"===t?u:"2"===t||"9"===t?c:o})).color("type",(function(t){return"0"===t?s:"2"===t||"9"===t?a:i})),h=new e.LineLayer({zIndex:f+.1,visible:l}).source(r).size("type",(function(t){return"1"===t?u:o})).shape("line").color("type",(function(t){return"1"===t?s:i})).style({lineType:"dash",dashArray:[2,2]});this.scene.addLayer(p),this.scene.addLayer(h),this.layers.push(p,h)}}]),s}(Xr);t.CityLayer=tn,t.CountryLayer=en,t.CountyLayer=rn,t.DataConfig=$e,t.DrillDownLayer=on,t.ProvinceLayer=Yr,t.RegionList={100:{name:"华北区",code:"100",child:[12e4,15e4,21e4,37e4,23e4,11e4,13e4,22e4]},101:{name:"华东区",code:"101",child:[32e4,34e4,31e4]},102:{name:"华南区",code:"102",child:[46e4,44e4]},103:{name:"华西区",code:"103",child:[63e4,51e4,54e4,5e5,65e4]},104:{name:"华中区",code:"104",child:[36e4,42e4,35e4,33e4]},201:{name:"西南区",code:"201",child:[43e4,52e4,53e4,45e4]},301:{name:"中西区",code:"301",child:[62e4,61e4,14e4,41e4,64e4]}},t.WorldLayer=an,t.getDataConfig=Ee,t.setDataConfig=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze;Ce(Te[e],t)},t.setDataLevel=Re,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=l7-district.min.js.map
